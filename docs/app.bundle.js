/*! For license information please see app.bundle.js.LICENSE.txt */
(()=>{"use strict";var n,t={130:(n,t,r)=>{r(452);var e=r(72),o=r.n(e),i=r(825),a=r.n(i),s=r(659),c=r.n(s),u=r(56),l=r.n(u),f=r(540),p=r.n(f),d=r(113),h=r.n(d),A=r(249),g={};g.styleTagTransform=h(),g.setAttributes=l(),g.insert=c().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=p(),o()(A.A,g),A.A&&A.A.locals&&A.A.locals;var v=r(936),m={};m.styleTagTransform=h(),m.setAttributes=l(),m.insert=c().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=p(),o()(v.A,m),v.A&&v.A.locals&&v.A.locals;const y={init:function(n){var t=this,r=n.button,e=n.drawer,o=n.content;r.addEventListener("click",(function(n){t._toggleDrawer(n,e)})),o.addEventListener("click",(function(n){t._closeDrawer(n,e)}))},_toggleDrawer:function(n,t){n.stopPropagation(),t.classList.toggle("open")},_closeDrawer:function(n,t){n.stopPropagation(),t.classList.remove("open")}};const b={parseActiveUrlWithCombiner:function(){var n=window.location.hash.slice(1).toLowerCase(),t=this._urlSplitter(n);return this._urlCombiner(t)},parseActiveUrlWithoutCombiner:function(){var n=window.location.hash.slice(1).toLowerCase();return this._urlSplitter(n)},_urlSplitter:function(n){var t=n.split("/");return{resource:t[1]||null,id:t[2]||null,verb:t[3]||null}},_urlCombiner:function(n){return(n.resource?"/".concat(n.resource):"/")+(n.id?"/:id":"")+(n.verb?"/".concat(n.verb):"")},isValidRoute:function(n,t){var r=this.parseActiveUrlWithCombiner();return n.hasOwnProperty(r)},getNotFoundRoute:function(){return"/404"}};var E=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return'\n  <article class="story-item">\n    <div class="story-item__header">\n      <img class="story-item__header__poster" src="'.concat(n.photoUrl,'" \n           alt="Story image from ').concat(n.name,'" crossorigin="anonymous">\n      <div class="story-item__header__info">\n        <h3 class="story-item__title">\n          <a href="#/detail/').concat(n.id,'" class="story-item__title__link">').concat(n.name,'</a>\n        </h3>\n        <p class="story-item__date"><i class="fa-regular fa-calendar"></i> ').concat(new Date(n.createdAt).toLocaleDateString(),'</p>\n      </div>\n    </div>\n    <div class="story-item__content">\n      <p class="story-item__description">').concat(n.description.substring(0,150)).concat(n.description.length>150?"...":"",'</p>\n    </div>\n    <div class="story-item__footer">\n      <div class="story-item__actions">\n        <a href="#/detail/').concat(n.id,'" class="story-item__read-more"><i class="fa-solid fa-book-open"></i> Read More</a>\n        <button class="favorite-button ').concat(t?"active":"",'" data-id="').concat(n.id,'">\n          <i class="fa-').concat(t?"solid":"regular",' fa-heart"></i>\n        </button>\n      </div>\n    </div>\n  </article>\n')},w=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return'\n  <div class="story-detail">\n    <h3 class="story-detail__title">'.concat(n.name,'</h3>\n    <div class="story-detail__meta">\n      <p class="story-detail__date"><i class="fa-regular fa-calendar"></i> Posted on ').concat(new Date(n.createdAt).toLocaleDateString(),'</p>\n      <button class="favorite-button detail-favorite ').concat(t?"active":"",'" data-id="').concat(n.id,'">\n        <i class="fa-').concat(t?"solid":"regular",' fa-heart"></i> ').concat(t?"Remove from Favorites":"Add to Favorites",'\n      </button>\n    </div>\n    \n    <div class="story-detail__image">\n      <img src="').concat(n.photoUrl,'" alt="Story image from ').concat(n.name,'" crossorigin="anonymous">\n    </div>\n    \n    <div class="story-detail__content">\n      <p class="story-detail__description">').concat(n.description,"</p>\n    </div>\n    \n    ").concat(n.lat&&n.lon?'<div class="story-detail__location">\n            <p><i class="fa-solid fa-location-dot"></i> Location: '.concat(n.lat.toFixed(6),", ").concat(n.lon.toFixed(6),"</p>\n          </div>"):'<p class="story-detail__no-location"><i class="fa-solid fa-map-pin"></i> No location data available</p>','\n    \n    <div class="story-detail__back">\n      <a href="#/home"><i class="fa-solid fa-arrow-left"></i> Back to Home</a>\n    </div>\n  </div>\n')};const x={getTileLayers:function(n){return{OpenStreetMap:n.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}),OpenTopoMap:n.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)',maxZoom:17}),"Stamen Watercolor":n.tileLayer("https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:1,maxZoom:16,ext:"jpg"}),"Carto DB Light":n.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:19}),"Carto DB Dark":n.tileLayer("https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:19})}},getDefaultTileLayer:function(n){return this.getTileLayers(n).OpenStreetMap},addLayerControl:function(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n.control.layers(r,e,{collapsed:!0,position:"topright"}).addTo(t)},initMap:function(n,t,r,e){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=this.getTileLayers(n),a=n.map(t,{layers:[i.OpenStreetMap]}).setView(r,e);return this.addLayerControl(n,a,i),o&&a.on("click",o),{map:a,tileLayers:i}}};var C=r(481),B=r.n(C);function k(n){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},k(n)}function _(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.push.apply(r,e)}return r}function S(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){j(n,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))}))}return n}function j(n,t,r){return(t=z(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function I(n,t){var r="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=function(n,t){if(n){if("string"==typeof n)return O(n,t);var r={}.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(n,t):void 0}}(n))||t&&n&&"number"==typeof n.length){r&&(n=r);var e=0,o=function(){};return{s:o,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(n)},n:function(){var n=r.next();return a=n.done,n},e:function(n){s=!0,i=n},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function O(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=Array(t);r<t;r++)e[r]=n[r];return e}function T(){T=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==k(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(k(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function P(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function L(n){return function(){var t=this,r=arguments;return new Promise((function(e,o){var i=n.apply(t,r);function a(n){P(i,e,o,a,s,"next",n)}function s(n){P(i,e,o,a,s,"throw",n)}a(void 0)}))}}function N(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,z(e.key),e)}}function z(n){var t=function(n){if("object"!=k(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==k(t)?t:t+""}r(274);const F=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.dbName="storyshare-db",this.dbVersion=2,this.storiesStore="stories",this.storyDetailsStore="story-details",this.offlineQueueStore="offline-queue",this.favoritesStore="favorites",this.dbPromise=this.initDB()},t=[{key:"initDB",value:(v=L(T().mark((function n(){var t=this;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,r){var e=indexedDB.deleteDatabase(t.dbName);e.onsuccess=function(){console.log("Old database deleted successfully"),t.createDatabase(n,r)},e.onerror=function(){console.log("No existing database to delete, creating new one"),t.createDatabase(n,r)}})));case 1:case"end":return n.stop()}}),n)}))),function(){return v.apply(this,arguments)})},{key:"createDatabase",value:function(n,t){var r=this,e=indexedDB.open(this.dbName,this.dbVersion);e.onerror=function(){console.error("IndexedDB error:",e.error),t(e.error)},e.onsuccess=function(){console.log("IndexedDB opened successfully"),n(e.result)},e.onupgradeneeded=function(n){console.log("IndexedDB upgrade needed");var t=n.target.result;if(t.objectStoreNames.contains(r.storiesStore)||(t.createObjectStore(r.storiesStore,{keyPath:"id"}).createIndex("createdAt","createdAt"),console.log("Created stories store")),t.objectStoreNames.contains(r.storyDetailsStore)||(t.createObjectStore(r.storyDetailsStore,{keyPath:"id"}),console.log("Created story details store")),!t.objectStoreNames.contains(r.offlineQueueStore)){var e=t.createObjectStore(r.offlineQueueStore,{keyPath:"id",autoIncrement:!0});e.createIndex("timestamp","timestamp"),e.createIndex("type","type"),console.log("Created offline queue store")}t.objectStoreNames.contains(r.favoritesStore)||(t.createObjectStore(r.favoritesStore,{keyPath:"id"}).createIndex("addedAt","addedAt"),console.log("Created favorites store"))}}},{key:"saveStories",value:(g=L(T().mark((function n(t){var r,e,o,i,a,s;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.dbPromise;case 3:return r=n.sent,e=r.transaction([this.storiesStore],"readwrite"),o=e.objectStore(this.storiesStore),n.next=8,this.clearStore(o);case 8:i=I(t),n.prev=9,i.s();case 11:if((a=i.n()).done){n.next=17;break}return s=a.value,n.next=15,this.putData(o,S(S({},s),{},{cachedAt:Date.now()}));case 15:n.next=11;break;case 17:n.next=22;break;case 19:n.prev=19,n.t0=n.catch(9),i.e(n.t0);case 22:return n.prev=22,i.f(),n.finish(22);case 25:return n.next=27,this.completeTransaction(e);case 27:return console.log("Stories saved to IndexedDB:",t.length),n.abrupt("return",!0);case 31:throw n.prev=31,n.t1=n.catch(0),console.error("Error saving stories:",n.t1),n.t1;case 35:case"end":return n.stop()}}),n,this,[[0,31],[9,19,22,25]])}))),function(n){return g.apply(this,arguments)})},{key:"getStories",value:(A=L(T().mark((function n(){var t,r,e,o;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.dbPromise;case 3:return t=n.sent,r=t.transaction([this.storiesStore],"readonly"),e=r.objectStore(this.storiesStore),n.next=8,this.getAllData(e);case 8:return o=n.sent,console.log("Retrieved stories from IndexedDB:",o.length),n.abrupt("return",o);case 13:return n.prev=13,n.t0=n.catch(0),console.error("Error getting stories:",n.t0),n.abrupt("return",[]);case 17:case"end":return n.stop()}}),n,this,[[0,13]])}))),function(){return A.apply(this,arguments)})},{key:"saveStoryDetail",value:(h=L(T().mark((function n(t){var r,e,o;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.dbPromise;case 3:return r=n.sent,e=r.transaction([this.storyDetailsStore],"readwrite"),o=e.objectStore(this.storyDetailsStore),n.next=8,this.putData(o,S(S({},t),{},{cachedAt:Date.now()}));case 8:return n.next=10,this.completeTransaction(e);case 10:return console.log("Story detail saved to IndexedDB:",t.id),n.abrupt("return",!0);case 14:throw n.prev=14,n.t0=n.catch(0),console.error("Error saving story detail:",n.t0),n.t0;case 18:case"end":return n.stop()}}),n,this,[[0,14]])}))),function(n){return h.apply(this,arguments)})},{key:"getStoryDetail",value:(d=L(T().mark((function n(t){var r,e,o,i;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.dbPromise;case 3:return r=n.sent,e=r.transaction([this.storyDetailsStore],"readonly"),o=e.objectStore(this.storyDetailsStore),n.next=8,this.getData(o,t);case 8:return i=n.sent,console.log("Retrieved story detail from IndexedDB:",t),n.abrupt("return",i);case 13:return n.prev=13,n.t0=n.catch(0),console.error("Error getting story detail:",n.t0),n.abrupt("return",null);case 17:case"end":return n.stop()}}),n,this,[[0,13]])}))),function(n){return d.apply(this,arguments)})},{key:"addToOfflineQueue",value:(p=L(T().mark((function n(t){var r,e,o;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.dbPromise;case 3:return r=n.sent,e=r.transaction([this.offlineQueueStore],"readwrite"),o=e.objectStore(this.offlineQueueStore),n.next=8,this.addData(o,S(S({},t),{},{timestamp:Date.now()}));case 8:return n.next=10,this.completeTransaction(e);case 10:return console.log("Added to offline queue:",t.type),n.abrupt("return",!0);case 14:throw n.prev=14,n.t0=n.catch(0),console.error("Error adding to offline queue:",n.t0),n.t0;case 18:case"end":return n.stop()}}),n,this,[[0,14]])}))),function(n){return p.apply(this,arguments)})},{key:"getOfflineQueue",value:(f=L(T().mark((function n(){var t,r,e,o;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.dbPromise;case 3:return t=n.sent,r=t.transaction([this.offlineQueueStore],"readonly"),e=r.objectStore(this.offlineQueueStore),n.next=8,this.getAllData(e);case 8:return o=n.sent,console.log("Retrieved offline queue from IndexedDB:",o.length),n.abrupt("return",o);case 13:return n.prev=13,n.t0=n.catch(0),console.error("Error getting offline queue:",n.t0),n.abrupt("return",[]);case 17:case"end":return n.stop()}}),n,this,[[0,13]])}))),function(){return f.apply(this,arguments)})},{key:"removeFromOfflineQueue",value:(l=L(T().mark((function n(t){var r,e,o;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.dbPromise;case 3:return r=n.sent,e=r.transaction([this.offlineQueueStore],"readwrite"),o=e.objectStore(this.offlineQueueStore),n.next=8,this.deleteData(o,t);case 8:return n.next=10,this.completeTransaction(e);case 10:return console.log("Removed from offline queue:",t),n.abrupt("return",!0);case 14:throw n.prev=14,n.t0=n.catch(0),console.error("Error removing from offline queue:",n.t0),n.t0;case 18:case"end":return n.stop()}}),n,this,[[0,14]])}))),function(n){return l.apply(this,arguments)})},{key:"clearOfflineQueue",value:(u=L(T().mark((function n(){var t,r,e;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.dbPromise;case 3:return t=n.sent,r=t.transaction([this.offlineQueueStore],"readwrite"),e=r.objectStore(this.offlineQueueStore),n.next=8,this.clearStore(e);case 8:return n.next=10,this.completeTransaction(r);case 10:return console.log("Cleared offline queue"),n.abrupt("return",!0);case 14:throw n.prev=14,n.t0=n.catch(0),console.error("Error clearing offline queue:",n.t0),n.t0;case 18:case"end":return n.stop()}}),n,this,[[0,14]])}))),function(){return u.apply(this,arguments)})},{key:"addToFavorites",value:(c=L(T().mark((function n(t){var r,e,o;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.dbPromise;case 3:return r=n.sent,e=r.transaction([this.favoritesStore],"readwrite"),o=e.objectStore(this.favoritesStore),n.next=8,this.putData(o,S(S({},t),{},{addedAt:Date.now(),isFavorite:!0}));case 8:return n.next=10,this.completeTransaction(e);case 10:return console.log("Added to favorites:",t.id),n.abrupt("return",!0);case 14:throw n.prev=14,n.t0=n.catch(0),console.error("Error adding to favorites:",n.t0),n.t0;case 18:case"end":return n.stop()}}),n,this,[[0,14]])}))),function(n){return c.apply(this,arguments)})},{key:"removeFromFavorites",value:(s=L(T().mark((function n(t){var r,e,o;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.dbPromise;case 3:return r=n.sent,e=r.transaction([this.favoritesStore],"readwrite"),o=e.objectStore(this.favoritesStore),n.next=8,this.deleteData(o,t);case 8:return n.next=10,this.completeTransaction(e);case 10:return console.log("Removed from favorites:",t),n.abrupt("return",!0);case 14:throw n.prev=14,n.t0=n.catch(0),console.error("Error removing from favorites:",n.t0),n.t0;case 18:case"end":return n.stop()}}),n,this,[[0,14]])}))),function(n){return s.apply(this,arguments)})},{key:"getFavorites",value:(a=L(T().mark((function n(){var t,r,e,o;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.dbPromise;case 3:return t=n.sent,r=t.transaction([this.favoritesStore],"readonly"),e=r.objectStore(this.favoritesStore),n.next=8,this.getAllData(e);case 8:return o=n.sent,console.log("Retrieved favorites from IndexedDB:",o.length),n.abrupt("return",o);case 13:return n.prev=13,n.t0=n.catch(0),console.error("Error getting favorites:",n.t0),n.abrupt("return",[]);case 17:case"end":return n.stop()}}),n,this,[[0,13]])}))),function(){return a.apply(this,arguments)})},{key:"isFavorite",value:(i=L(T().mark((function n(t){var r,e,o,i;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.dbPromise;case 3:return r=n.sent,e=r.transaction([this.favoritesStore],"readonly"),o=e.objectStore(this.favoritesStore),n.next=8,this.getData(o,t);case 8:return i=n.sent,n.abrupt("return",!!i);case 12:return n.prev=12,n.t0=n.catch(0),console.error("Error checking favorite status:",n.t0),n.abrupt("return",!1);case 16:case"end":return n.stop()}}),n,this,[[0,12]])}))),function(n){return i.apply(this,arguments)})},{key:"clearAllFavorites",value:(o=L(T().mark((function n(){var t,r,e;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.dbPromise;case 3:return t=n.sent,r=t.transaction([this.favoritesStore],"readwrite"),e=r.objectStore(this.favoritesStore),n.next=8,this.clearStore(e);case 8:return n.next=10,this.completeTransaction(r);case 10:return console.log("Cleared all favorites"),n.abrupt("return",!0);case 14:throw n.prev=14,n.t0=n.catch(0),console.error("Error clearing favorites:",n.t0),n.t0;case 18:case"end":return n.stop()}}),n,this,[[0,14]])}))),function(){return o.apply(this,arguments)})},{key:"isDataStale",value:(e=L(T().mark((function n(t){var r,e,o,i,a,s,c=arguments;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:3e5,n.prev=1,n.next=4,this.dbPromise;case 4:return e=n.sent,o=e.transaction([t],"readonly"),i=o.objectStore(t),n.next=9,this.getAllData(i);case 9:if(0!==(a=n.sent).length){n.next=12;break}return n.abrupt("return",!0);case 12:return s=a[0],n.abrupt("return",!s.cachedAt||Date.now()-s.cachedAt>r);case 16:return n.prev=16,n.t0=n.catch(1),console.error("Error checking data staleness:",n.t0),n.abrupt("return",!0);case 20:case"end":return n.stop()}}),n,this,[[1,16]])}))),function(n){return e.apply(this,arguments)})},{key:"clearAllData",value:(r=L(T().mark((function n(){var t,r;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.dbPromise;case 3:return t=n.sent,r=t.transaction([this.storiesStore,this.storyDetailsStore,this.offlineQueueStore,this.favoritesStore],"readwrite"),n.next=7,this.clearStore(r.objectStore(this.storiesStore));case 7:return n.next=9,this.clearStore(r.objectStore(this.storyDetailsStore));case 9:return n.next=11,this.clearStore(r.objectStore(this.offlineQueueStore));case 11:return n.next=13,this.clearStore(r.objectStore(this.favoritesStore));case 13:return n.next=15,this.completeTransaction(r);case 15:return console.log("Cleared all data"),n.abrupt("return",!0);case 19:throw n.prev=19,n.t0=n.catch(0),console.error("Error clearing all data:",n.t0),n.t0;case 23:case"end":return n.stop()}}),n,this,[[0,19]])}))),function(){return r.apply(this,arguments)})},{key:"getData",value:function(n,t){return new Promise((function(r,e){var o=n.get(t);o.onerror=function(){return e(o.error)},o.onsuccess=function(){return r(o.result)}}))}},{key:"getAllData",value:function(n){return new Promise((function(t,r){var e=n.getAll();e.onerror=function(){return r(e.error)},e.onsuccess=function(){return t(e.result)}}))}},{key:"addData",value:function(n,t){return new Promise((function(r,e){var o=n.add(t);o.onerror=function(){return e(o.error)},o.onsuccess=function(){return r(o.result)}}))}},{key:"putData",value:function(n,t){return new Promise((function(r,e){var o=n.put(t);o.onerror=function(){return e(o.error)},o.onsuccess=function(){return r(o.result)}}))}},{key:"deleteData",value:function(n,t){return new Promise((function(r,e){var o=n.delete(t);o.onerror=function(){return e(o.error)},o.onsuccess=function(){return r(o.result)}}))}},{key:"clearStore",value:function(n){return new Promise((function(t,r){var e=n.clear();e.onerror=function(){return r(e.error)},e.onsuccess=function(){return t(e.result)}}))}},{key:"completeTransaction",value:function(n){return new Promise((function(t,r){n.onerror=function(){return r(n.error)},n.oncomplete=function(){return t()}}))}}],t&&N(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,r,e,o,i,a,s,c,u,l,f,p,d,h,A,g,v}();function Y(n){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Y(n)}function D(){D=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Y(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(Y(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function G(n,t){var r="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=function(n,t){if(n){if("string"==typeof n)return M(n,t);var r={}.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(n,t):void 0}}(n))||t&&n&&"number"==typeof n.length){r&&(n=r);var e=0,o=function(){};return{s:o,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(n)},n:function(){var n=r.next();return a=n.done,n},e:function(n){s=!0,i=n},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function M(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=Array(t);r<t;r++)e[r]=n[r];return e}function R(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function H(n){return function(){var t=this,r=arguments;return new Promise((function(e,o){var i=n.apply(t,r);function a(n){R(i,e,o,a,s,"next",n)}function s(n){R(i,e,o,a,s,"throw",n)}a(void 0)}))}}function U(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,q(e.key),e)}}function q(n){var t=function(n){if("object"!=Y(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Y(t)?t:t+""}const W=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._stories=[],this._map=null,this._markers=[],this._idbHelper=new F},t=[{key:"getTemplate",value:function(){return'\n      <section class="hero" aria-labelledby="hero-heading">\n        <div class="hero-content">\n          <h2 id="hero-heading">Share Your Stories</h2>\n          <p>Capture moments, share experiences, connect with others</p>\n          <a href="#/add" class="hero-button"><i class="fa-solid fa-plus"></i> Add Your Story</a>\n        </div>\n      </section>\n      \n      <section class="stories-section" aria-labelledby="stories-heading">\n        <h2 id="stories-heading" class="content__heading"><i class="fa-solid fa-book"></i> All Stories</h2>\n        <div id="stories" class="stories">\n          <div class="loading">\n            <i class="fa-solid fa-spinner fa-spin"></i>\n            <p>Loading stories...</p>\n          </div>\n        </div>\n      </section>\n      \n      <section class="map-section" aria-labelledby="map-heading">\n        <h2 id="map-heading" class="content__heading"><i class="fa-solid fa-map-location-dot"></i> Story Locations</h2>\n        <div id="map" class="map"></div>\n      </section>\n    '}},{key:"showStories",value:(e=H(D().mark((function n(t){var r,e,o,i,a;return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._stories=t,r=document.querySelector("#stories"),!(t.length>0)){n.next=26;break}r.innerHTML="",e=G(t),n.prev=5,e.s();case 7:if((o=e.n()).done){n.next=15;break}return i=o.value,n.next=11,this._idbHelper.isFavorite(i.id);case 11:a=n.sent,r.innerHTML+=E(i,a);case 13:n.next=7;break;case 15:n.next=20;break;case 17:n.prev=17,n.t0=n.catch(5),e.e(n.t0);case 20:return n.prev=20,e.f(),n.finish(20);case 23:this.initFavoriteButtons(),n.next=27;break;case 26:r.innerHTML='\n        <div class="empty-state">\n          <i class="fa-solid fa-face-sad-tear"></i>\n          <p>No stories found</p>\n          <a href="#/add" class="button">Add Your First Story</a>\n        </div>\n      ';case 27:case"end":return n.stop()}}),n,this,[[5,17,20,23]])}))),function(n){return e.apply(this,arguments)})},{key:"initFavoriteButtons",value:function(){var n=this;document.querySelectorAll(".favorite-button").forEach((function(t){t.addEventListener("click",function(){var r=H(D().mark((function r(e){var o,i,a;return D().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.preventDefault(),o=t.dataset.id,i=t.classList.contains("active"),r.prev=3,!i){r.next=12;break}return r.next=7,n._idbHelper.removeFromFavorites(o);case 7:t.classList.remove("active"),t.innerHTML='<i class="fa-regular fa-heart"></i>',n.showNotification("Removed from favorites","success"),r.next=19;break;case 12:if(!(a=n._stories.find((function(n){return n.id===o})))){r.next=19;break}return r.next=16,n._idbHelper.addToFavorites(a);case 16:t.classList.add("active"),t.innerHTML='<i class="fa-solid fa-heart"></i>',n.showNotification("Added to favorites","success");case 19:r.next=25;break;case 21:r.prev=21,r.t0=r.catch(3),console.error("Error updating favorites:",r.t0),n.showNotification("Failed to update favorites","error");case 25:case"end":return r.stop()}}),r,null,[[3,21]])})));return function(n){return r.apply(this,arguments)}}())}))}},{key:"showNotification",value:function(n,t){var r=document.createElement("div");r.className="notification ".concat(t),r.innerHTML='\n      <i class="fa-solid '.concat("success"===t?"fa-check-circle":"fa-exclamation-circle",'"></i>\n      <p>').concat(n,"</p>\n    "),document.body.appendChild(r),setTimeout((function(){r.classList.add("show")}),10),setTimeout((function(){r.classList.remove("show"),setTimeout((function(){document.body.contains(r)&&document.body.removeChild(r)}),300)}),3e3)}},{key:"showError",value:function(n){document.querySelector("#stories").innerHTML='\n      <div class="error">\n        <i class="fa-solid fa-triangle-exclamation"></i>\n        <p>Error loading stories: '.concat(n,"</p>\n      </div>\n    ")}},{key:"initMap",value:function(n){var t=this,r=n.filter((function(n){return n.lat&&n.lon}));if(r.length>0){var e=x.initMap(B(),"map",[-2.548926,118.0148634],5).map;this._map=e;var o=B().icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),i=B().layerGroup();r.forEach((function(n){var r=B().marker([n.lat,n.lon],{icon:o});r.bindPopup('\n          <div class="popup-content">\n            <h3>'.concat(n.name,'</h3>\n            <img src="').concat(n.photoUrl,'" alt="Story image from ').concat(n.name,'" style="width: 100%; max-width: 200px;">\n            <p>').concat(n.description.substring(0,100),'...</p>\n            <a href="#/detail/').concat(n.id,'" class="popup-link"><i class="fa-solid fa-eye"></i> View Details</a>\n          </div>\n        ')),i.addTo(t._map),t._markers.push(r),r.addTo(i)}));var a={"Story Locations":i};B().control.layers(x.getTileLayers(B()),a,{position:"topright"}).addTo(this._map),B().control.scale().addTo(this._map)}else document.querySelector("#map").innerHTML='\n        <div class="map-placeholder">\n          <i class="fa-solid fa-map-pin"></i>\n          <p>No stories with location data available</p>\n        </div>\n      '}},{key:"redirectToLogin",value:function(){window.location.hash="#/login"}},{key:"showLoading",value:function(){document.querySelector("#stories").innerHTML='\n      <div class="loading">\n        <i class="fa-solid fa-spinner fa-spin"></i>\n        <p>Loading stories...</p>\n      </div>\n    '}},{key:"displayStories",value:(r=H(D().mark((function n(t){return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.showStories(t);case 2:case"end":return n.stop()}}),n,this)}))),function(n){return r.apply(this,arguments)})},{key:"displayStoriesOnMap",value:function(n){this.initMap(n)}},{key:"handleUnauthenticated",value:function(){this.redirectToLogin()}},{key:"showNotFoundError",value:function(n){this.showError(n)}}],t&&U(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,r,e}();function Z(n){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Z(n)}function Q(){Q=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Z(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(Z(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function V(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function X(n){return function(){var t=this,r=arguments;return new Promise((function(e,o){var i=n.apply(t,r);function a(n){V(i,e,o,a,s,"next",n)}function s(n){V(i,e,o,a,s,"throw",n)}a(void 0)}))}}function J(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,K(e.key),e)}}function K(n){var t=function(n){if("object"!=Z(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Z(t)?t:t+""}const $=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._story=null,this._map=null,this._idbHelper=new F},t=[{key:"getTemplate",value:function(){return'\n      <article class="story-detail-section" aria-labelledby="detail-heading">\n        <h2 id="detail-heading" class="content__heading"><i class="fa-solid fa-book-open"></i> Story Details</h2>\n        <div id="story" class="story">\n          <div class="loading">\n            <i class="fa-solid fa-spinner fa-spin"></i>\n            <p>Loading story details...</p>\n          </div>\n        </div>\n        <section id="detailMapSection" class="detail-map-section" style="display: none;" aria-labelledby="location-heading">\n          <h3 id="location-heading" class="map-section-heading">Story Location</h3>\n          <div id="detailMap" class="map"></div>\n        </section>\n      </article>\n    '}},{key:"showStory",value:(e=X(Q().mark((function n(t){var r,e;return Q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this._story=t,r=document.querySelector("#story"),n.next=4,this._idbHelper.isFavorite(t.id);case 4:e=n.sent,r.innerHTML=w(t,e),this.initFavoriteButton();case 7:case"end":return n.stop()}}),n,this)}))),function(n){return e.apply(this,arguments)})},{key:"initFavoriteButton",value:function(){var n=this,t=document.querySelector(".detail-favorite");t&&t.addEventListener("click",X(Q().mark((function r(){var e,o;return Q().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e=t.dataset.id,o=t.classList.contains("active"),r.prev=2,!o){r.next=11;break}return r.next=6,n._idbHelper.removeFromFavorites(e);case 6:t.classList.remove("active"),t.innerHTML='<i class="fa-regular fa-heart"></i> Add to Favorites',n.showNotification("Removed from favorites","success"),r.next=16;break;case 11:return r.next=13,n._idbHelper.addToFavorites(n._story);case 13:t.classList.add("active"),t.innerHTML='<i class="fa-solid fa-heart"></i> Remove from Favorites',n.showNotification("Added to favorites","success");case 16:r.next=22;break;case 18:r.prev=18,r.t0=r.catch(2),console.error("Error updating favorites:",r.t0),n.showNotification("Failed to update favorites","error");case 22:case"end":return r.stop()}}),r,null,[[2,18]])}))))}},{key:"showNotification",value:function(n,t){var r=document.createElement("div");r.className="notification ".concat(t),r.innerHTML='\n      <i class="fa-solid '.concat("success"===t?"fa-check-circle":"fa-exclamation-circle",'"></i>\n      <p>').concat(n,"</p>\n    "),document.body.appendChild(r),setTimeout((function(){r.classList.add("show")}),10),setTimeout((function(){r.classList.remove("show"),setTimeout((function(){document.body.contains(r)&&document.body.removeChild(r)}),300)}),3e3)}},{key:"showLoading",value:function(){document.querySelector("#story").innerHTML='\n      <div class="loading">\n        <i class="fa-solid fa-spinner fa-spin"></i>\n        <p>Loading story details...</p>\n      </div>\n    '}},{key:"showError",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];document.querySelector("#story").innerHTML=t?'\n        <div class="error-container">\n          <div class="error-icon"><i class="fa-solid fa-face-sad-tear"></i></div>\n          <h3>Story Not Found</h3>\n          <p>The story you\'re looking for doesn\'t exist or may have been removed.</p>\n          <a href="#/home" class="button back-button"><i class="fa-solid fa-home"></i> Back to Home</a>\n        </div>\n      ':'\n        <div class="error-container">\n          <div class="error-icon"><i class="fa-solid fa-triangle-exclamation"></i></div>\n          <h3>Something Went Wrong</h3>\n          <p>We couldn\'t load this story. Please try again later.</p>\n          <p class="error-details">'.concat(n,'</p>\n          <a href="#/home" class="button back-button"><i class="fa-solid fa-home"></i> Back to Home</a>\n        </div>\n      '),document.querySelector("#detailMapSection").style.display="none"}},{key:"initMap",value:function(n){if(n.lat&&n.lon){document.querySelector("#detailMapSection").style.display="block";var t=x.initMap(B(),"detailMap",[n.lat,n.lon],13).map;this._map=t;var r=B().icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});B().marker([n.lat,n.lon],{icon:r}).addTo(this._map).bindPopup('\n          <div class="popup-content">\n            <h4>'.concat(n.name,"</h4>\n            <p>").concat(n.description.substring(0,100)).concat(n.description.length>100?"...":"","</p>\n          </div>\n        ")).openPopup(),B().control.scale().addTo(this._map)}else document.querySelector("#detailMapSection").innerHTML='\n        <h3 class="map-section-heading">Story Location</h3>\n        <div class="map-placeholder">\n          <i class="fa-solid fa-map-pin"></i>\n          <p>No location data available for this story</p>\n        </div>\n      ',document.querySelector("#detailMapSection").style.display="block"}},{key:"redirectToLogin",value:function(){window.location.hash="#/login"}},{key:"displayStory",value:(r=X(Q().mark((function n(t){return Q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.showStory(t);case 2:case"end":return n.stop()}}),n,this)}))),function(n){return r.apply(this,arguments)})},{key:"displayStoryLocation",value:function(n){this.initMap(n)}},{key:"handleUnauthenticated",value:function(){this.redirectToLogin()}},{key:"showNotFoundError",value:function(n){this.showError(n,!0)}}],t&&J(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,r,e}();function nn(n){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nn(n)}function tn(){tn=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==nn(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(nn(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function rn(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function en(n){return function(){var t=this,r=arguments;return new Promise((function(e,o){var i=n.apply(t,r);function a(n){rn(i,e,o,a,s,"next",n)}function s(n){rn(i,e,o,a,s,"throw",n)}a(void 0)}))}}function on(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,an(e.key),e)}}function an(n){var t=function(n){if("object"!=nn(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=nn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==nn(t)?t:t+""}const sn=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._map=null,this._marker=null,this._stream=null,this._selectedFile=null,this._formSubmitHandler=null},t=[{key:"getTemplate",value:function(){return'\n      <article class="add-story-section" aria-labelledby="add-story-heading">\n        <h2 id="add-story-heading" class="content__heading"><i class="fa-solid fa-plus"></i> Add New Story</h2>\n        <div class="form-container">\n          <form id="addStoryForm">\n            <section class="form-section" aria-labelledby="description-heading">\n              <h3 id="description-heading" class="form-section-heading">Story Content</h3>\n              <div class="form-group">\n                <label for="description"><i class="fa-solid fa-pen"></i> Story Description</label>\n                <textarea id="description" name="description" rows="5" placeholder="Share your story..." required></textarea>\n              </div>\n            </section>\n            \n            <section class="form-section" aria-labelledby="photo-heading">\n              <h3 id="photo-heading" class="form-section-heading">Photo</h3>\n              <div class="form-group">\n                <div class="photo-options">\n                  <div class="photo-option">\n                    <input type="file" id="fileInput" accept="image/*" class="file-input" />\n                    <label for="fileInput" class="file-input-label">\n                      <i class="fa-solid fa-upload"></i> Choose from Gallery\n                    </label>\n                  </div>\n                  <div class="photo-option">\n                    <button type="button" id="startCamera" class="button camera-button">\n                      <i class="fa-solid fa-camera"></i> Open Camera\n                    </button>\n                  </div>\n                </div>\n                \n                <div class="camera-container">\n                  <video id="cameraPreview" class="camera-preview" autoplay playsinline style="display: none;"></video>\n                  <canvas id="photoCanvas" class="photo-canvas" style="display: none;"></canvas>\n                  <img id="capturedPhoto" class="captured-photo" alt="Photo preview" style="display: none;">\n                  <div class="camera-placeholder" id="cameraPlaceholder">\n                    <i class="fa-solid fa-image"></i>\n                    <p>Upload a photo or use camera</p>\n                  </div>\n                </div>\n                \n                <div class="camera-controls" style="display: none;">\n                  <button type="button" id="capturePhoto" class="button camera-button">\n                    <i class="fa-solid fa-camera"></i> Capture Photo\n                  </button>\n                  <button type="button" id="cancelCamera" class="button camera-button">\n                    <i class="fa-solid fa-times"></i> Cancel\n                  </button>\n                </div>\n              </div>\n            </section>\n            \n            <section class="form-section" aria-labelledby="location-heading">\n              <h3 id="location-heading" class="form-section-heading">Location</h3>\n              <div class="form-group">\n                <div class="map-controls">\n                  <button type="button" id="getCurrentLocation" class="location-button">\n                    <i class="fa-solid fa-location-crosshairs"></i> Use My Location\n                  </button>\n                </div>\n                <div id="locationMap" class="location-map"></div>\n                <p id="selectedLocation" class="selected-location">\n                  <i class="fa-solid fa-map-pin"></i> Click on the map to select a location\n                </p>\n                <input type="hidden" id="latitude" name="latitude">\n                <input type="hidden" id="longitude" name="longitude">\n              </div>\n            </section>\n            \n            <div class="form-group">\n              <button type="submit" id="submitStory" class="button submit-button">\n                <i class="fa-solid fa-paper-plane"></i> Submit Story\n              </button>\n            </div>\n          </form>\n        </div>\n      </article>\n    '}},{key:"initLocationMap",value:function(){var n=this;this._map=B().map("locationMap").setView([-2.548926,118.0148634],5),B().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}).addTo(this._map);var t=B().icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});B().control.scale().addTo(this._map),this._map.on("click",(function(r){var e=r.latlng,o=e.lat,i=e.lng,a=document.getElementById("latitude"),s=document.getElementById("longitude"),c=document.getElementById("selectedLocation");a&&s&&c&&(a.value=o,s.value=i,c.innerHTML='\n          <i class="fa-solid fa-map-pin"></i> Your location: '.concat(o.toFixed(6),", ").concat(i.toFixed(6),"\n        ")),n._marker?n._marker.setLatLng([o,i]):n._marker=B().marker([o,i],{icon:t}).addTo(n._map)})),document.getElementById("getCurrentLocation").addEventListener("click",(function(){n._getUserLocation()})),this._getUserLocation()}},{key:"_getUserLocation",value:function(){var n=this;navigator.geolocation?(document.getElementById("selectedLocation").innerHTML='\n        <i class="fa-solid fa-spinner fa-spin"></i> Getting your current location...\n      ',navigator.geolocation.getCurrentPosition((function(t){var r=t.coords,e=r.latitude,o=r.longitude;n._map.setView([e,o],15);var i=B().icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});n._marker?n._marker.setLatLng([e,o]):n._marker=B().marker([e,o],{icon:i}).addTo(n._map);var a=document.getElementById("latitude"),s=document.getElementById("longitude");a&&s?(a.value=e,s.value=o):console.warn("Latitude or longitude input elements not found"),document.getElementById("selectedLocation").innerHTML='\n            <i class="fa-solid fa-map-pin"></i> Your location: '.concat(e.toFixed(6),", ").concat(o.toFixed(6),"\n          ")}),(function(n){console.error("Error getting location:",n);var t="Unable to get your location.";switch(n.code){case n.PERMISSION_DENIED:t="Location permission denied. Please allow location access or select manually.";break;case n.POSITION_UNAVAILABLE:t="Location information is unavailable. Please select manually.";break;case n.TIMEOUT:t="Location request timed out. Please select manually."}document.getElementById("selectedLocation").innerHTML='\n            <i class="fa-solid fa-triangle-exclamation"></i> '.concat(t,"\n          ")}),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})):document.getElementById("selectedLocation").innerHTML='\n        <i class="fa-solid fa-triangle-exclamation"></i> Geolocation is not supported by your browser. Please select location manually.\n      '}},{key:"initPhotoUpload",value:function(){var n=this,t=document.getElementById("fileInput"),r=document.getElementById("capturedPhoto"),e=document.getElementById("cameraPlaceholder"),o=document.getElementById("photoCanvas");t.addEventListener("change",(function(t){var i=t.target.files[0];if(i){n._stopCamera();var a=new FileReader;a.onload=function(t){r.src=t.target.result,r.style.display="block",e.style.display="none",n._selectedFile=i,o.getContext("2d").clearRect(0,0,o.width,o.height)},a.readAsDataURL(i)}}))}},{key:"initCameraControls",value:function(){var n=this,t=document.getElementById("startCamera"),r=document.getElementById("capturePhoto"),e=document.getElementById("cancelCamera"),o=document.getElementById("cameraPreview"),i=document.getElementById("photoCanvas"),a=document.getElementById("capturedPhoto"),s=document.getElementById("cameraPlaceholder"),c=document.querySelector(".camera-controls");t.addEventListener("click",en(tn().mark((function t(){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,document.getElementById("fileInput").value="",n._selectedFile=null,t.next=5,navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});case 5:n._stream=t.sent,o.srcObject=n._stream,o.style.display="block",a.style.display="none",s.style.display="none",c.style.display="flex",t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.error("Error accessing camera:",t.t0),n.showNotification("Could not access camera. Please make sure you have granted camera permissions.","error");case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))),r.addEventListener("click",(function(){i.width=o.videoWidth,i.height=o.videoHeight,i.getContext("2d").drawImage(o,0,0,i.width,i.height);var t=i.toDataURL("image/jpeg");a.src=t,o.style.display="none",a.style.display="block",c.style.display="none",n._stopCamera()})),e.addEventListener("click",(function(){o.style.display="none",c.style.display="none",a.src?a.style.display="block":s.style.display="block",n._stopCamera()}))}},{key:"_stopCamera",value:function(){this._stream&&(this._stream.getTracks().forEach((function(n){return n.stop()})),this._stream=null)}},{key:"setFormSubmitHandler",value:function(n){var t=this;this._formSubmitHandler=n,document.getElementById("addStoryForm").addEventListener("submit",function(){var n=en(tn().mark((function n(r){var e;return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),t.validateForm()){n.next=3;break}return n.abrupt("return");case 3:return e=t.getFormData(),n.next=6,t._formSubmitHandler(e);case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())}},{key:"getFormData",value:function(){var n,t=(null===(n=document.getElementById("description"))||void 0===n?void 0:n.value)||"",r=document.getElementById("latitude"),e=document.getElementById("longitude"),o=(null==r?void 0:r.value)||"",i=(null==e?void 0:e.value)||"",a=new FormData;if(a.append("description",t),this._selectedFile)a.append("photo",this._selectedFile);else{var s=document.getElementById("photoCanvas");if(s&&s.width>0){var c=s.toDataURL("image/jpeg"),u=this._dataURLtoBlob(c);a.append("photo",u,"photo.jpg")}}return o&&i&&(a.append("lat",o),a.append("lon",i)),a}},{key:"validateForm",value:function(){var n=document.getElementById("photoCanvas");return!(!this._selectedFile&&0===n.width&&(this.showNotification("Please select or capture a photo before submitting","error"),1))}},{key:"setSubmitButtonLoading",value:function(n){var t=document.getElementById("submitStory");n?(t.disabled=!0,t.innerHTML='<i class="fa-solid fa-spinner fa-spin"></i> Submitting...'):(t.disabled=!1,t.innerHTML='<i class="fa-solid fa-paper-plane"></i> Submit Story')}},{key:"showNotification",value:function(n,t){var r=document.createElement("div");r.className="notification ".concat(t),r.innerHTML='\n      <i class="fa-solid '.concat("success"===t?"fa-check-circle":"fa-exclamation-circle",'"></i>\n      <p>').concat(n,"</p>\n    "),document.body.appendChild(r),setTimeout((function(){r.classList.add("show")}),10),setTimeout((function(){r.classList.remove("show"),setTimeout((function(){document.body.removeChild(r)}),300)}),3e3)}},{key:"_dataURLtoBlob",value:function(n){for(var t=atob(n.split(",")[1]),r=n.split(",")[0].split(":")[1].split(";")[0],e=new ArrayBuffer(t.length),o=new Uint8Array(e),i=0;i<t.length;i++)o[i]=t.charCodeAt(i);return new Blob([e],{type:r})}},{key:"redirectToLogin",value:function(){window.location.hash="#/login"}},{key:"redirectToHome",value:function(){window.location.hash="#/home"}},{key:"redirectToHomeWithDelay",value:function(n){setTimeout((function(){window.location.hash="#/home"}),n)}},{key:"destroy",value:function(){this._stopCamera&&this._stopCamera();var n=document.getElementById("addStoryForm");n&&this._formSubmitHandler&&n.removeEventListener("submit",this._formSubmitHandler)}},{key:"initializeComponents",value:function(){this.initLocationMap(),this.initPhotoUpload(),this.initCameraControls()}},{key:"handleUnauthenticated",value:function(){this.showNotification("You must be logged in to add a story","error"),this.redirectToLogin()}},{key:"handleSubmitSuccess",value:function(){this.showNotification("Story added successfully!","success"),this.redirectToHomeWithDelay(1500)}},{key:"handleSubmitError",value:function(n){this.showNotification("Failed to add story: ".concat(n),"error"),this.setSubmitButtonLoading(!1)}},{key:"showValidationError",value:function(n){this.showNotification(n,"error")}},{key:"cleanup",value:function(){this.destroy()}}],t&&on(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t}();function cn(n){return cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},cn(n)}function un(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,ln(e.key),e)}}function ln(n){var t=function(n){if("object"!=cn(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=cn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==cn(t)?t:t+""}const fn=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._passwordToggleHandler=this._onTogglePassword.bind(this),this._formSubmitHandler=null},(t=[{key:"getTemplate",value:function(){return'\n      <article class="auth-section" aria-labelledby="login-heading">\n        <div class="auth-container">\n          <header class="auth-header">\n            <i class="fa-solid fa-sign-in-alt auth-icon"></i>\n            <h2 id="login-heading">Login to StoryShare</h2>\n            <p>Welcome back! Please login to continue</p>\n          </header>\n          \n          <form id="loginForm" class="auth-form">\n            <div class="form-group">\n              <label for="email"><i class="fa-solid fa-envelope"></i> Email</label>\n              <input type="email" id="email" name="email" placeholder="Enter your email" required>\n            </div>\n            \n            <div class="form-group">\n              <label for="password"><i class="fa-solid fa-lock"></i> Password</label>\n              <div class="password-input-container">\n                <input type="password" id="password" name="password" placeholder="Enter your password" required>\n                <button type="button" id="togglePassword" class="toggle-password" aria-label="Toggle password visibility">\n                  <i class="fa-solid fa-eye"></i>\n                </button>\n              </div>\n            </div>\n            \n            <div class="form-group">\n              <button type="submit" id="loginButton" class="auth-button">\n                <i class="fa-solid fa-sign-in-alt"></i> Login\n              </button>\n            </div>\n            \n            <footer class="form-footer">\n              <p>Don\'t have an account? <a href="#/register">Register here</a></p>\n            </footer>\n          </form>\n        </div>\n      </article>\n    '}},{key:"setFormSubmitHandler",value:function(n){var t=this;this._formSubmitHandler=function(r){r.preventDefault();var e=t.getLoginData();n(e)};var r=document.getElementById("loginForm");r&&r.addEventListener("submit",this._formSubmitHandler)}},{key:"initPasswordToggle",value:function(){var n=document.getElementById("togglePassword");n&&n.addEventListener("click",this._passwordToggleHandler)}},{key:"_onTogglePassword",value:function(){var n=document.getElementById("password"),t=document.getElementById("togglePassword"),r="password"===n.getAttribute("type")?"text":"password";n.setAttribute("type",r),t.innerHTML="password"===r?'<i class="fa-solid fa-eye"></i>':'<i class="fa-solid fa-eye-slash"></i>'}},{key:"getLoginData",value:function(){return{email:document.getElementById("email").value,password:document.getElementById("password").value}}},{key:"setLoginButtonLoading",value:function(n){var t=document.getElementById("loginButton");n?(t.disabled=!0,t.innerHTML='<i class="fa-solid fa-spinner fa-spin"></i> Logging in...'):(t.disabled=!1,t.innerHTML='<i class="fa-solid fa-sign-in-alt"></i> Login')}},{key:"showNotification",value:function(n,t){var r=document.createElement("div");r.className="notification ".concat(t),r.innerHTML='\n      <i class="fa-solid '.concat("success"===t?"fa-check-circle":"fa-exclamation-circle",'"></i>\n      <p>').concat(n,"</p>\n    "),document.body.appendChild(r),setTimeout((function(){r.classList.add("show")}),10),setTimeout((function(){r.classList.remove("show"),setTimeout((function(){document.body.removeChild(r)}),300)}),3e3)}},{key:"redirectToHome",value:function(){window.location.hash="#/home"}},{key:"redirectToHomeWithDelay",value:function(n){setTimeout((function(){window.location.hash="#/home"}),n)}},{key:"destroy",value:function(){var n=document.getElementById("togglePassword");n&&n.removeEventListener("click",this._passwordToggleHandler);var t=document.getElementById("loginForm");t&&this._formSubmitHandler&&t.removeEventListener("submit",this._formSubmitHandler)}},{key:"initializeComponents",value:function(){this.initPasswordToggle()}},{key:"handleAlreadyLoggedIn",value:function(){this.redirectToHome()}},{key:"handleLoginSuccess",value:function(){this.showNotification("Login successful!","success"),this.redirectToHomeWithDelay(1e3)}},{key:"handleLoginError",value:function(n){this.showNotification("Login failed: ".concat(n),"error"),this.setLoginButtonLoading(!1)}},{key:"showValidationError",value:function(n){this.showNotification(n,"error")}},{key:"cleanup",value:function(){this.destroy()}}])&&un(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t}();function pn(n){return pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},pn(n)}function dn(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,hn(e.key),e)}}function hn(n){var t=function(n){if("object"!=pn(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=pn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==pn(t)?t:t+""}const An=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._passwordToggleHandler=this._onTogglePassword.bind(this),this._formSubmitHandler=null},(t=[{key:"getTemplate",value:function(){return'\n      <article class="auth-section" aria-labelledby="register-heading">\n        <div class="auth-container">\n          <header class="auth-header">\n            <i class="fa-solid fa-user-plus auth-icon"></i>\n            <h2 id="register-heading">Create an Account</h2>\n            <p>Join StoryShare and start sharing your stories</p>\n          </header>\n          \n          <form id="registerForm" class="auth-form">\n            <div class="form-group">\n              <label for="name"><i class="fa-solid fa-user"></i> Name</label>\n              <input type="text" id="name" name="name" placeholder="Enter your name" required>\n            </div>\n            \n            <div class="form-group">\n              <label for="email"><i class="fa-solid fa-envelope"></i> Email</label>\n              <input type="email" id="email" name="email" placeholder="Enter your email" required>\n            </div>\n            \n            <div class="form-group">\n              <label for="password"><i class="fa-solid fa-lock"></i> Password</label>\n              <div class="password-input-container">\n                <input type="password" id="password" name="password" placeholder="Enter your password" required minlength="6">\n                <button type="button" id="togglePassword" class="toggle-password" aria-label="Toggle password visibility">\n                  <i class="fa-solid fa-eye"></i>\n                </button>\n              </div>\n              <small>Password must be at least 6 characters</small>\n            </div>\n            \n            <div class="form-group">\n              <button type="submit" id="registerButton" class="auth-button">\n                <i class="fa-solid fa-user-plus"></i> Register\n              </button>\n            </div>\n            \n            <footer class="form-footer">\n              <p>Already have an account? <a href="#/login">Login here</a></p>\n            </footer>\n          </form>\n        </div>\n      </article>\n    '}},{key:"setFormSubmitHandler",value:function(n){var t=this;this._formSubmitHandler=function(r){r.preventDefault();var e=t.getRegisterData();n(e)};var r=document.getElementById("registerForm");r&&r.addEventListener("submit",this._formSubmitHandler)}},{key:"initPasswordToggle",value:function(){var n=document.getElementById("togglePassword");n&&n.addEventListener("click",this._passwordToggleHandler)}},{key:"_onTogglePassword",value:function(){var n=document.getElementById("password"),t=document.getElementById("togglePassword"),r="password"===n.getAttribute("type")?"text":"password";n.setAttribute("type",r),t.innerHTML="password"===r?'<i class="fa-solid fa-eye"></i>':'<i class="fa-solid fa-eye-slash"></i>'}},{key:"getRegisterData",value:function(){return{name:document.getElementById("name").value,email:document.getElementById("email").value,password:document.getElementById("password").value}}},{key:"setRegisterButtonLoading",value:function(n){var t=document.getElementById("registerButton");n?(t.disabled=!0,t.innerHTML='<i class="fa-solid fa-spinner fa-spin"></i> Registering...'):(t.disabled=!1,t.innerHTML='<i class="fa-solid fa-user-plus"></i> Register')}},{key:"showNotification",value:function(n,t){var r=document.createElement("div");r.className="notification ".concat(t),r.innerHTML='\n      <i class="fa-solid '.concat("success"===t?"fa-check-circle":"fa-exclamation-circle",'"></i>\n      <p>').concat(n,"</p>\n    "),document.body.appendChild(r),setTimeout((function(){r.classList.add("show")}),10),setTimeout((function(){r.classList.remove("show"),setTimeout((function(){document.body.removeChild(r)}),300)}),3e3)}},{key:"redirectToHome",value:function(){window.location.hash="#/home"}},{key:"redirectToLoginWithDelay",value:function(n){setTimeout((function(){window.location.hash="#/login"}),n)}},{key:"destroy",value:function(){var n=document.getElementById("togglePassword");n&&n.removeEventListener("click",this._passwordToggleHandler);var t=document.getElementById("registerForm");t&&this._formSubmitHandler&&t.removeEventListener("submit",this._formSubmitHandler)}},{key:"initializeComponents",value:function(){this.initPasswordToggle()}},{key:"handleAlreadyLoggedIn",value:function(){this.redirectToHome()}},{key:"handleRegisterSuccess",value:function(){this.showNotification("Registration successful! Please login.","success"),this.redirectToLoginWithDelay(1500)}},{key:"handleRegisterError",value:function(n){this.showNotification("Registration failed: ".concat(n),"error"),this.setRegisterButtonLoading(!1)}},{key:"showValidationError",value:function(n){this.showNotification(n,"error")}},{key:"cleanup",value:function(){this.destroy()}}])&&dn(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t}();function gn(n){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gn(n)}function vn(){vn=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==gn(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(gn(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function mn(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function yn(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,bn(e.key),e)}}function bn(n){var t=function(n){if("object"!=gn(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=gn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==gn(t)?t:t+""}var En=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)},t=[{key:"getTemplate",value:function(){return'\n        <article class="not-found-section" aria-labelledby="not-found-heading">\n          <div class="not-found-container">\n            <div class="not-found-content">\n              <div class="not-found-icon">\n                <i class="fa-solid fa-face-sad-tear"></i>\n              </div>\n              \n              <h1 id="not-found-heading" class="not-found-title">404 - Page Not Found</h1>\n              \n              <p class="not-found-message">\n                Oops! The page you\'re looking for doesn\'t exist or may have been moved.\n              </p>\n              \n              <div class="not-found-suggestions">\n                <h3>What you can do:</h3>\n                <ul>\n                  <li><i class="fa-solid fa-home"></i> Go back to the <a href="#/home">homepage</a></li>\n                  <li><i class="fa-solid fa-plus"></i> <a href="#/add">Add a new story</a></li>\n                  <li><i class="fa-solid fa-heart"></i> Check your <a href="#/favorites">favorite stories</a></li>\n                  <li><i class="fa-solid fa-search"></i> Browse all available stories</li>\n                </ul>\n              </div>\n              \n              <div class="not-found-actions">\n                <a href="#/home" class="button primary-button">\n                  <i class="fa-solid fa-home"></i> Back to Home\n                </a>\n                <a href="#/add" class="button secondary-button">\n                  <i class="fa-solid fa-plus"></i> Add Story\n                </a>\n              </div>\n              \n              <div class="not-found-help">\n                <p class="help-text">\n                  If you think this is an error, please check the URL or try refreshing the page.\n                </p>\n                <button id="refreshButton" class="refresh-button">\n                  <i class="fa-solid fa-refresh"></i> Refresh Page\n                </button>\n              </div>\n            </div>\n            \n            <div class="not-found-illustration">\n              <div class="floating-elements">\n                <div class="floating-element"></div>\n                <div class="floating-element"></div>\n                <div class="floating-element"></div>\n                <div class="floating-element"></div>\n              </div>\n            </div>\n          </div>\n        </article>\n      '}},{key:"afterRender",value:(r=vn().mark((function n(){return vn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.initEventListeners(),this.startFloatingAnimation();case 2:case"end":return n.stop()}}),n,this)})),e=function(){var n=this,t=arguments;return new Promise((function(e,o){var i=r.apply(n,t);function a(n){mn(i,e,o,a,s,"next",n)}function s(n){mn(i,e,o,a,s,"throw",n)}a(void 0)}))},function(){return e.apply(this,arguments)})},{key:"initEventListeners",value:function(){var n=document.getElementById("refreshButton");n&&n.addEventListener("click",(function(){window.location.reload()})),document.querySelectorAll(".not-found-section a").forEach((function(n){n.addEventListener("click",(function(n){console.log("404 page navigation:",n.target.href)}))}))}},{key:"startFloatingAnimation",value:function(){document.querySelectorAll(".floating-element").forEach((function(n,t){var r=2*Math.random(),e=3+2*Math.random();n.style.animationDelay="".concat(r,"s"),n.style.animationDuration="".concat(e,"s")}))}}],t&&yn(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,r,e}();const wn=En;function xn(n){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xn(n)}function Cn(){Cn=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==xn(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(xn(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function Bn(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function kn(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,_n(e.key),e)}}function _n(n){var t=function(n){if("object"!=xn(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=xn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==xn(t)?t:t+""}var Sn=function(){return n=function n(t){var r=t.view,e=t.storyRepository,o=t.authRepository;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._view=r,this._storyRepository=e,this._authRepository=o},t=[{key:"showAllStories",value:(r=Cn().mark((function n(){var t;return Cn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,this._authRepository.isLoggedIn()){n.next=5;break}return console.log("User not authenticated, redirecting to login"),this._view.handleUnauthenticated(),n.abrupt("return");case 5:return this._view.showLoading(),n.prev=6,console.log("Fetching stories..."),n.next=10,this._storyRepository.getAllStories();case 10:(t=n.sent)&&t.length>0?(console.log("Stories loaded successfully:",t.length),this._view.displayStories(t),this._view.displayStoriesOnMap(t)):(console.log("No stories found"),this._view.displayStories([]),this._view.displayStoriesOnMap([])),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(6),console.error("Error fetching stories:",n.t0),"Missing authentication"===n.t0.message?this._view.handleUnauthenticated():n.t0.message.includes("No cached data available")?this._view.showError("No stories available. Please check your internet connection and try again."):this._view.showError(n.t0.message);case 18:n.next=24;break;case 20:n.prev=20,n.t1=n.catch(0),console.error("Error in home presenter:",n.t1),this._view.showError("Something went wrong. Please try again.");case 24:case"end":return n.stop()}}),n,this,[[0,20],[6,14]])})),e=function(){var n=this,t=arguments;return new Promise((function(e,o){var i=r.apply(n,t);function a(n){Bn(i,e,o,a,s,"next",n)}function s(n){Bn(i,e,o,a,s,"throw",n)}a(void 0)}))},function(){return e.apply(this,arguments)})}],t&&kn(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,r,e}();const jn=Sn;function In(n){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},In(n)}function On(){On=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==In(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(In(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function Tn(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function Pn(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,Ln(e.key),e)}}function Ln(n){var t=function(n){if("object"!=In(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=In(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==In(t)?t:t+""}var Nn=function(){return n=function n(t){var r=t.view,e=t.storyRepository,o=t.authRepository,i=t.id;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._view=r,this._storyRepository=e,this._authRepository=o,this._id=i},t=[{key:"showStoryDetail",value:(r=On().mark((function n(){var t;return On().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,this._authRepository.isLoggedIn()){n.next=4;break}return this._view.handleUnauthenticated(),n.abrupt("return");case 4:return this._view.showLoading(),n.next=7,this._storyRepository.getStoryDetail(this._id);case 7:t=n.sent,this._view.displayStory(t),this._view.displayStoryLocation(t),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),console.error("Error in detail presenter:",n.t0),"Missing authentication"===n.t0.message?this._view.handleUnauthenticated():n.t0.message.includes("not found")?this._view.showNotFoundError(n.t0.message):this._view.showError(n.t0.message);case 16:case"end":return n.stop()}}),n,this,[[0,12]])})),e=function(){var n=this,t=arguments;return new Promise((function(e,o){var i=r.apply(n,t);function a(n){Tn(i,e,o,a,s,"next",n)}function s(n){Tn(i,e,o,a,s,"throw",n)}a(void 0)}))},function(){return e.apply(this,arguments)})}],t&&Pn(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,r,e}();const zn=Nn;function Fn(n){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Fn(n)}function Yn(){Yn=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Fn(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(Fn(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function Dn(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function Gn(n){return function(){var t=this,r=arguments;return new Promise((function(e,o){var i=n.apply(t,r);function a(n){Dn(i,e,o,a,s,"next",n)}function s(n){Dn(i,e,o,a,s,"throw",n)}a(void 0)}))}}function Mn(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,Rn(e.key),e)}}function Rn(n){var t=function(n){if("object"!=Fn(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=Fn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Fn(t)?t:t+""}var Hn=function(){return n=function n(t){var r=t.view,e=t.storyRepository,o=t.authRepository;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._view=r,this._storyRepository=e,this._authRepository=o},t=[{key:"init",value:(e=Gn(Yn().mark((function n(){return Yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._authRepository.isLoggedIn()){n.next=3;break}return this._view.handleUnauthenticated(),n.abrupt("return");case 3:this._view.initializeComponents(),this._view.setFormSubmitHandler(this._onFormSubmit.bind(this));case 5:case"end":return n.stop()}}),n,this)}))),function(){return e.apply(this,arguments)})},{key:"_onFormSubmit",value:(r=Gn(Yn().mark((function n(t){return Yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,this._validateFormData(t)){n.next=3;break}return n.abrupt("return");case 3:return this._view.setSubmitButtonLoading(!0),n.next=6,this._storyRepository.addNewStory(t);case 6:this._view.handleSubmitSuccess(),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),console.error("Error submitting story:",n.t0),this._view.handleSubmitError(n.t0.message);case 13:case"end":return n.stop()}}),n,this,[[0,9]])}))),function(n){return r.apply(this,arguments)})},{key:"_validateFormData",value:function(n){var t=n.get("description"),r=n.get("photo");return t&&0!==t.trim().length?!!r||(this._view.showValidationError("Photo is required"),!1):(this._view.showValidationError("Description is required"),!1)}},{key:"destroy",value:function(){this._view.cleanup()}}],t&&Mn(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,r,e}();const Un=Hn;function qn(n){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qn(n)}function Wn(){Wn=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==qn(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(qn(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function Zn(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function Qn(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,Vn(e.key),e)}}function Vn(n){var t=function(n){if("object"!=qn(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==qn(t)?t:t+""}var Xn=function(){return n=function n(t){var r=t.view,e=t.authRepository;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._view=r,this._authRepository=e},t=[{key:"init",value:function(){this._authRepository.isLoggedIn()?this._view.handleAlreadyLoggedIn():(this._view.initializeComponents(),this._view.setFormSubmitHandler(this._onFormSubmit.bind(this)))}},{key:"_onFormSubmit",value:(r=Wn().mark((function n(t){return Wn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,this._validateLoginData(t)){n.next=3;break}return n.abrupt("return");case 3:return this._view.setLoginButtonLoading(!0),n.next=6,this._authRepository.login(t);case 6:this._view.handleLoginSuccess(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),this._view.handleLoginError(n.t0.message);case 12:case"end":return n.stop()}}),n,this,[[0,9]])})),e=function(){var n=this,t=arguments;return new Promise((function(e,o){var i=r.apply(n,t);function a(n){Zn(i,e,o,a,s,"next",n)}function s(n){Zn(i,e,o,a,s,"throw",n)}a(void 0)}))},function(n){return e.apply(this,arguments)})},{key:"_validateLoginData",value:function(n){return n.email&&n.password?!!this._isValidEmail(n.email)||(this._view.showValidationError("Please enter a valid email"),!1):(this._view.showValidationError("Email and password are required"),!1)}},{key:"_isValidEmail",value:function(n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}},{key:"destroy",value:function(){this._view.cleanup()}}],t&&Qn(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,r,e}();const Jn=Xn;function Kn(n){return Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Kn(n)}function $n(){$n=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Kn(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(Kn(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function nt(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function tt(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,rt(e.key),e)}}function rt(n){var t=function(n){if("object"!=Kn(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=Kn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Kn(t)?t:t+""}var et=function(){return n=function n(t){var r=t.view,e=t.authRepository;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._view=r,this._authRepository=e},t=[{key:"init",value:function(){this._authRepository.isLoggedIn()?this._view.handleAlreadyLoggedIn():(this._view.initializeComponents(),this._view.setFormSubmitHandler(this._onFormSubmit.bind(this)))}},{key:"_onFormSubmit",value:(r=$n().mark((function n(t){return $n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,this._validateRegisterData(t)){n.next=3;break}return n.abrupt("return");case 3:return this._view.setRegisterButtonLoading(!0),n.next=6,this._authRepository.register(t);case 6:this._view.handleRegisterSuccess(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),this._view.handleRegisterError(n.t0.message);case 12:case"end":return n.stop()}}),n,this,[[0,9]])})),e=function(){var n=this,t=arguments;return new Promise((function(e,o){var i=r.apply(n,t);function a(n){nt(i,e,o,a,s,"next",n)}function s(n){nt(i,e,o,a,s,"throw",n)}a(void 0)}))},function(n){return e.apply(this,arguments)})},{key:"_validateRegisterData",value:function(n){return n.name&&n.email&&n.password?this._isValidEmail(n.email)?!(n.password.length<6&&(this._view.showValidationError("Password must be at least 6 characters"),1)):(this._view.showValidationError("Please enter a valid email"),!1):(this._view.showValidationError("All fields are required"),!1)}},{key:"_isValidEmail",value:function(n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}},{key:"destroy",value:function(){this._view.cleanup()}}],t&&tt(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,r,e}();const ot=et,it="https://story-api.dicoding.dev/v1",at={REGISTER:"".concat(it,"/register"),LOGIN:"".concat(it,"/login"),LIST:"".concat(it,"/stories"),DETAIL:function(n){return"".concat(it,"/stories/").concat(n)},ADD:"".concat(it,"/stories")};function st(n){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},st(n)}function ct(){ct=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==st(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(st(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function ut(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function lt(n){return function(){var t=this,r=arguments;return new Promise((function(e,o){var i=n.apply(t,r);function a(n){ut(i,e,o,a,s,"next",n)}function s(n){ut(i,e,o,a,s,"throw",n)}a(void 0)}))}}function ft(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,pt(e.key),e)}}function pt(n){var t=function(n){if("object"!=st(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==st(t)?t:t+""}const dt=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)},t=[{key:"register",value:(e=lt(ct().mark((function n(t){var r,e;return ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(at.REGISTER,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return r=n.sent,n.next=6,r.json();case 6:if(!(e=n.sent).error){n.next=9;break}throw new Error(e.message);case 9:return n.abrupt("return",e);case 12:throw n.prev=12,n.t0=n.catch(0),console.error("Error during registration:",n.t0),n.t0;case 16:case"end":return n.stop()}}),n,null,[[0,12]])}))),function(n){return e.apply(this,arguments)})},{key:"login",value:(r=lt(ct().mark((function n(t){var r,e;return ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(at.LOGIN,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return r=n.sent,n.next=6,r.json();case 6:if(!(e=n.sent).error){n.next=9;break}throw new Error(e.message);case 9:return localStorage.setItem("token",e.loginResult.token),localStorage.setItem("userId",e.loginResult.userId),localStorage.setItem("name",e.loginResult.name),n.abrupt("return",e.loginResult);case 15:throw n.prev=15,n.t0=n.catch(0),console.error("Error during login:",n.t0),n.t0;case 19:case"end":return n.stop()}}),n,null,[[0,15]])}))),function(n){return r.apply(this,arguments)})},{key:"logout",value:function(){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("name"),window.location.hash="#/login"}},{key:"isLoggedIn",value:function(){return!!localStorage.getItem("token")}},{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"getName",value:function(){return localStorage.getItem("name")}}],t&&ft(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,r,e}();function ht(n){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ht(n)}function At(){At=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==ht(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(ht(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function gt(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function vt(n){return function(){var t=this,r=arguments;return new Promise((function(e,o){var i=n.apply(t,r);function a(n){gt(i,e,o,a,s,"next",n)}function s(n){gt(i,e,o,a,s,"throw",n)}a(void 0)}))}}function mt(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,yt(e.key),e)}}function yt(n){var t=function(n){if("object"!=ht(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==ht(t)?t:t+""}var bt=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.idbHelper=new F},t=[{key:"getAllStories",value:(o=vt(At().mark((function n(){var t,r,e,o;return At().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,dt.isLoggedIn()){n.next=3;break}throw new Error("Missing authentication");case 3:return t=dt.getToken(),n.prev=4,n.next=7,fetch(at.LIST,{headers:{Authorization:"Bearer ".concat(t)}});case 7:return r=n.sent,n.next=10,r.json();case 10:if(!(e=n.sent).error){n.next=13;break}throw new Error(e.message);case 13:return n.next=15,this.idbHelper.saveStories(e.listStory);case 15:return n.abrupt("return",e.listStory);case 18:return n.prev=18,n.t0=n.catch(4),console.log("Network failed, loading from cache..."),n.next=23,this.idbHelper.getStories();case 23:if(!((o=n.sent).length>0)){n.next=26;break}return n.abrupt("return",o);case 26:throw new Error("No cached data available. Please check your internet connection.");case 27:n.next=33;break;case 29:throw n.prev=29,n.t1=n.catch(0),console.error("Error getting stories:",n.t1),n.t1;case 33:case"end":return n.stop()}}),n,this,[[0,29],[4,18]])}))),function(){return o.apply(this,arguments)})},{key:"getStoryDetail",value:(e=vt(At().mark((function n(t){var r,e,o,i;return At().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,dt.isLoggedIn()){n.next=3;break}throw new Error("Missing authentication");case 3:return r=dt.getToken(),n.prev=4,n.next=7,fetch(at.DETAIL(t),{headers:{Authorization:"Bearer ".concat(r)}});case 7:return e=n.sent,n.next=10,e.json();case 10:if(!(o=n.sent).error){n.next=15;break}if(404!==e.status){n.next=14;break}throw new Error("Story not found");case 14:throw new Error(o.message);case 15:return n.next=17,this.idbHelper.saveStoryDetail(o.story);case 17:return n.abrupt("return",o.story);case 20:return n.prev=20,n.t0=n.catch(4),console.log("Network failed, loading from cache..."),n.next=25,this.idbHelper.getStoryDetail(t);case 25:if(!(i=n.sent)){n.next=28;break}return n.abrupt("return",i);case 28:throw new Error("Story not available offline");case 29:n.next=35;break;case 31:throw n.prev=31,n.t1=n.catch(0),console.error("Error getting story detail:",n.t1),n.t1;case 35:case"end":return n.stop()}}),n,this,[[0,31],[4,20]])}))),function(n){return e.apply(this,arguments)})},{key:"addNewStory",value:(r=vt(At().mark((function n(t){var r,e,o,i,a;return At().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,dt.isLoggedIn()){n.next=3;break}throw new Error("Missing authentication");case 3:if(r=dt.getToken(),navigator.onLine){n.next=11;break}if(!(o=null===(e=window.StoryShareApp)||void 0===e?void 0:e.offlineManager)){n.next=10;break}return n.next=9,o.addStoryOffline(t);case 9:throw new Error("Story saved offline. It will be uploaded when you're back online.");case 10:throw new Error("You are offline. Please check your internet connection.");case 11:return n.next=13,fetch(at.ADD,{method:"POST",headers:{Authorization:"Bearer ".concat(r)},body:t});case 13:return i=n.sent,n.next=16,i.json();case 16:if(!(a=n.sent).error){n.next=19;break}throw new Error(a.message);case 19:return n.abrupt("return",a);case 22:throw n.prev=22,n.t0=n.catch(0),console.error("Error adding new story:",n.t0),n.t0;case 26:case"end":return n.stop()}}),n,null,[[0,22]])}))),function(n){return r.apply(this,arguments)})}],t&&mt(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,r,e,o}();const Et=bt;function wt(n){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wt(n)}function xt(){xt=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==wt(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(wt(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function Ct(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function Bt(n){return function(){var t=this,r=arguments;return new Promise((function(e,o){var i=n.apply(t,r);function a(n){Ct(i,e,o,a,s,"next",n)}function s(n){Ct(i,e,o,a,s,"throw",n)}a(void 0)}))}}function kt(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,_t(e.key),e)}}function _t(n){var t=function(n){if("object"!=wt(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==wt(t)?t:t+""}const St=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)},t=[{key:"register",value:(e=Bt(xt().mark((function n(t){var r,e;return xt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(at.REGISTER,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return r=n.sent,n.next=6,r.json();case 6:if(!(e=n.sent).error){n.next=9;break}throw new Error(e.message);case 9:return n.abrupt("return",e);case 12:throw n.prev=12,n.t0=n.catch(0),console.error("Error during registration:",n.t0),n.t0;case 16:case"end":return n.stop()}}),n,null,[[0,12]])}))),function(n){return e.apply(this,arguments)})},{key:"login",value:(r=Bt(xt().mark((function n(t){var r,e;return xt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(at.LOGIN,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return r=n.sent,n.next=6,r.json();case 6:if(!(e=n.sent).error){n.next=9;break}throw new Error(e.message);case 9:return localStorage.setItem("token",e.loginResult.token),localStorage.setItem("userId",e.loginResult.userId),localStorage.setItem("name",e.loginResult.name),n.abrupt("return",e.loginResult);case 15:throw n.prev=15,n.t0=n.catch(0),console.error("Error during login:",n.t0),n.t0;case 19:case"end":return n.stop()}}),n,null,[[0,15]])}))),function(n){return r.apply(this,arguments)})},{key:"logout",value:function(){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("name")}},{key:"isLoggedIn",value:function(){return!!localStorage.getItem("token")}},{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"getName",value:function(){return localStorage.getItem("name")}}],t&&kt(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,r,e}();function jt(n){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jt(n)}function It(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.push.apply(r,e)}return r}function Ot(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?It(Object(r),!0).forEach((function(t){Tt(n,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))}))}return n}function Tt(n,t,r){return(t=Ft(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function Pt(){Pt=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==jt(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(jt(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function Lt(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function Nt(n){return function(){var t=this,r=arguments;return new Promise((function(e,o){var i=n.apply(t,r);function a(n){Lt(i,e,o,a,s,"next",n)}function s(n){Lt(i,e,o,a,s,"throw",n)}a(void 0)}))}}function zt(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,Ft(e.key),e)}}function Ft(n){var t=function(n){if("object"!=jt(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==jt(t)?t:t+""}var Yt=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.vapidPublicKey="BCCs2eonMI-6H2ctvFaWg-UYdDv387Vno_bzUzALpB442r2lCnsHmtrx8biyPi_E-1fSGABK_Qs_GlvPoJJqxbk",this.subscription=null},t=[{key:"isSupported",value:function(){return"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window}},{key:"getPermissionStatus",value:function(){return this.isSupported()?Notification.permission:"unsupported"}},{key:"requestPermission",value:(l=Nt(Pt().mark((function n(){var t;return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.isSupported()){n.next=2;break}throw new Error("Notifications are not supported in this browser");case 2:if("granted"!==Notification.permission){n.next=4;break}return n.abrupt("return","granted");case 4:if("denied"!==Notification.permission){n.next=6;break}throw new Error("Notification permission has been denied");case 6:return n.next=8,Notification.requestPermission();case 8:if("granted"===(t=n.sent)){n.next=11;break}throw new Error("Notification permission was not granted");case 11:return n.abrupt("return",t);case 12:case"end":return n.stop()}}),n,this)}))),function(){return l.apply(this,arguments)})},{key:"subscribeToPush",value:(u=Nt(Pt().mark((function n(){var t,r;return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.requestPermission();case 3:return n.next=5,navigator.serviceWorker.ready;case 5:return t=n.sent,n.next=8,t.pushManager.getSubscription();case 8:if(r=n.sent){n.next=13;break}return n.next=12,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(this.vapidPublicKey)});case 12:r=n.sent;case 13:return this.subscription=r,n.next=16,this.sendSubscriptionToServer(r);case 16:return n.abrupt("return",r);case 19:throw n.prev=19,n.t0=n.catch(0),console.error("Error subscribing to push notifications:",n.t0),n.t0;case 23:case"end":return n.stop()}}),n,this,[[0,19]])}))),function(){return u.apply(this,arguments)})},{key:"unsubscribeFromPush",value:(c=Nt(Pt().mark((function n(){var t,r;return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,navigator.serviceWorker.ready;case 3:return t=n.sent,n.next=6,t.pushManager.getSubscription();case 6:if(!(r=n.sent)){n.next=14;break}return n.next=10,r.unsubscribe();case 10:return n.next=12,this.removeSubscriptionFromServer(r);case 12:return this.subscription=null,n.abrupt("return",!0);case 14:return n.abrupt("return",!1);case 17:throw n.prev=17,n.t0=n.catch(0),console.error("Error unsubscribing from push notifications:",n.t0),n.t0;case 21:case"end":return n.stop()}}),n,this,[[0,17]])}))),function(){return c.apply(this,arguments)})},{key:"isSubscribed",value:(s=Nt(Pt().mark((function n(){var t,r;return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,navigator.serviceWorker.ready;case 3:return t=n.sent,n.next=6,t.pushManager.getSubscription();case 6:return r=n.sent,n.abrupt("return",!!r);case 10:return n.prev=10,n.t0=n.catch(0),console.error("Error checking subscription status:",n.t0),n.abrupt("return",!1);case 14:case"end":return n.stop()}}),n,null,[[0,10]])}))),function(){return s.apply(this,arguments)})},{key:"getSubscription",value:(a=Nt(Pt().mark((function n(){var t;return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,navigator.serviceWorker.ready;case 3:return t=n.sent,n.next=6,t.pushManager.getSubscription();case 6:return n.abrupt("return",n.sent);case 9:return n.prev=9,n.t0=n.catch(0),console.error("Error getting subscription:",n.t0),n.abrupt("return",null);case 13:case"end":return n.stop()}}),n,null,[[0,9]])}))),function(){return a.apply(this,arguments)})},{key:"sendSubscriptionToServer",value:(i=Nt(Pt().mark((function n(t){var r,e,o,i,a;return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r=localStorage.getItem("token")){n.next=4;break}throw new Error("User not authenticated");case 4:return e=t.toJSON(),n.next=7,fetch("https://story-api.dicoding.dev/v1/notifications/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({endpoint:e.endpoint,keys:{p256dh:e.keys.p256dh,auth:e.keys.auth}})});case 7:if((o=n.sent).ok){n.next=13;break}return n.next=11,o.text();case 11:throw i=n.sent,new Error("HTTP error! status: ".concat(o.status,", message: ").concat(i));case 13:return n.next=15,o.json();case 15:return a=n.sent,console.log("Subscription sent to server successfully:",a),n.abrupt("return",a);case 20:throw n.prev=20,n.t0=n.catch(0),console.error("Error sending subscription to server:",n.t0),n.t0;case 24:case"end":return n.stop()}}),n,null,[[0,20]])}))),function(n){return i.apply(this,arguments)})},{key:"removeSubscriptionFromServer",value:(o=Nt(Pt().mark((function n(t){var r,e,o,i;return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r=localStorage.getItem("token")){n.next=4;break}throw new Error("User not authenticated");case 4:return n.next=6,fetch("https://story-api.dicoding.dev/v1/notifications/subscribe",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({endpoint:t.endpoint})});case 6:if((e=n.sent).ok){n.next=12;break}return n.next=10,e.text();case 10:throw o=n.sent,new Error("HTTP error! status: ".concat(e.status,", message: ").concat(o));case 12:return n.next=14,e.json();case 14:return i=n.sent,console.log("Subscription removed from server successfully:",i),n.abrupt("return",i);case 19:throw n.prev=19,n.t0=n.catch(0),console.error("Error removing subscription from server:",n.t0),n.t0;case 23:case"end":return n.stop()}}),n,null,[[0,19]])}))),function(n){return o.apply(this,arguments)})},{key:"showLocalNotification",value:(e=Nt(Pt().mark((function n(t){var r,e,o,i=arguments;return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},n.prev=1,n.next=4,this.requestPermission();case 4:if(e=Ot(Ot({},{body:"This is a test notification",icon:"/icons/icon-192x192.png",badge:"/icons/icon-72x72.png",tag:"local-notification",requireInteraction:!1}),r),!("serviceWorker"in navigator)){n.next=13;break}return n.next=9,navigator.serviceWorker.ready;case 9:return o=n.sent,n.abrupt("return",o.showNotification(t,e));case 13:return n.abrupt("return",new Notification(t,e));case 14:n.next=20;break;case 16:throw n.prev=16,n.t0=n.catch(1),console.error("Error showing local notification:",n.t0),n.t0;case 20:case"end":return n.stop()}}),n,this,[[1,16]])}))),function(n){return e.apply(this,arguments)})},{key:"urlBase64ToUint8Array",value:function(n){for(var t=(n+"=".repeat((4-n.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(t),e=new Uint8Array(r.length),o=0;o<r.length;++o)e[o]=r.charCodeAt(o);return e}},{key:"init",value:(r=Nt(Pt().mark((function n(){return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.isSupported()){n.next=3;break}return console.warn("Push notifications are not supported in this browser"),n.abrupt("return",!1);case 3:return n.prev=3,n.next=6,this.isSubscribed();case 6:if(!n.sent){n.next=12;break}return n.next=10,this.getSubscription();case 10:this.subscription=n.sent,console.log("User is already subscribed to push notifications");case 12:return n.abrupt("return",!0);case 15:return n.prev=15,n.t0=n.catch(3),console.error("Error initializing notification helper:",n.t0),n.abrupt("return",!1);case 19:case"end":return n.stop()}}),n,this,[[3,15]])}))),function(){return r.apply(this,arguments)})}],t&&zt(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,r,e,o,i,a,s,c,u,l}();const Dt=Yt;function Gt(n){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Gt(n)}function Mt(){Mt=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Gt(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(Gt(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function Rt(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function Ht(n){return function(){var t=this,r=arguments;return new Promise((function(e,o){var i=n.apply(t,r);function a(n){Rt(i,e,o,a,s,"next",n)}function s(n){Rt(i,e,o,a,s,"throw",n)}a(void 0)}))}}function Ut(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,qt(e.key),e)}}function qt(n){var t=function(n){if("object"!=Gt(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=Gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Gt(t)?t:t+""}var Wt=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.notificationHelper=new Dt,this.isSubscribed=!1},t=[{key:"getTemplate",value:function(){return'\n      <article class="notification-settings-section" aria-labelledby="notification-heading">\n        <h2 id="notification-heading" class="content__heading">\n          <i class="fa-solid fa-bell"></i> Notification Settings\n        </h2>\n        \n        <div class="settings-container">\n          <div class="notification-status" id="notificationStatus">\n            <div class="loading">\n              <i class="fa-solid fa-spinner fa-spin"></i>\n              <p>Checking notification status...</p>\n            </div>\n          </div>\n\n          <div class="notification-controls" id="notificationControls" style="display: none;">\n            <div class="control-group">\n              <h3 class="control-heading">\n                <i class="fa-solid fa-toggle-on"></i> Push Notifications\n              </h3>\n              <p class="control-description">\n                Get notified about new stories and updates even when the app is closed.\n              </p>\n              \n              <div class="control-actions">\n                <button id="enableNotifications" class="button notification-button" style="display: none;">\n                  <i class="fa-solid fa-bell"></i> Enable Notifications\n                </button>\n                <button id="disableNotifications" class="button notification-button danger" style="display: none;">\n                  <i class="fa-solid fa-bell-slash"></i> Disable Notifications\n                </button>\n                <button id="testNotification" class="button notification-button secondary" style="display: none;">\n                  <i class="fa-solid fa-vial"></i> Test Notification\n                </button>\n              </div>\n            </div>\n\n            <div class="control-group">\n              <h3 class="control-heading">\n                <i class="fa-solid fa-info-circle"></i> About Notifications\n              </h3>\n              <div class="info-content">\n                <p>Push notifications help you stay updated with:</p>\n                <ul>\n                  <li><i class="fa-solid fa-book"></i> New stories from other users</li>\n                  <li><i class="fa-solid fa-heart"></i> Interactions with your stories</li>\n                  <li><i class="fa-solid fa-bullhorn"></i> Important app updates</li>\n                </ul>\n                \n                <div class="browser-support" id="browserSupport">\n                  <h4><i class="fa-solid fa-browser"></i> Browser Support</h4>\n                  <p id="supportStatus">Checking browser compatibility...</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class="back-navigation">\n            <a href="#/home" class="back-link">\n              <i class="fa-solid fa-arrow-left"></i> Back to Home\n            </a>\n          </div>\n        </div>\n      </article>\n    '}},{key:"afterRender",value:(a=Ht(Mt().mark((function n(){return Mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.initializeNotificationSettings();case 2:this.setupEventListeners();case 3:case"end":return n.stop()}}),n,this)}))),function(){return a.apply(this,arguments)})},{key:"initializeNotificationSettings",value:(i=Ht(Mt().mark((function n(){return Mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.notificationHelper.init();case 3:if(n.sent){n.next=7;break}return this.showUnsupportedMessage(),n.abrupt("return");case 7:return n.next=9,this.notificationHelper.isSubscribed();case 9:this.isSubscribed=n.sent,this.updateNotificationStatus(),this.updateBrowserSupport(),document.getElementById("notificationControls").style.display="block",document.getElementById("notificationStatus").style.display="none",n.next=20;break;case 16:n.prev=16,n.t0=n.catch(0),console.error("Error initializing notification settings:",n.t0),this.showErrorMessage(n.t0.message);case 20:case"end":return n.stop()}}),n,this,[[0,16]])}))),function(){return i.apply(this,arguments)})},{key:"updateNotificationStatus",value:function(){var n=document.getElementById("enableNotifications"),t=document.getElementById("disableNotifications"),r=document.getElementById("testNotification");this.isSubscribed?(n.style.display="none",t.style.display="inline-block",r.style.display="inline-block"):(n.style.display="inline-block",t.style.display="none",r.style.display="none")}},{key:"updateBrowserSupport",value:function(){var n=document.getElementById("supportStatus"),t="",r="";switch(this.notificationHelper.getPermissionStatus()){case"granted":t='<i class="fa-solid fa-check-circle"></i> Notifications are enabled and working',r="support-granted";break;case"denied":t='<i class="fa-solid fa-times-circle"></i> Notifications are blocked. Please enable them in browser settings.',r="support-denied";break;case"default":t='<i class="fa-solid fa-question-circle"></i> Notification permission not yet requested',r="support-default";break;case"unsupported":t='<i class="fa-solid fa-exclamation-triangle"></i> Push notifications are not supported in this browser',r="support-unsupported"}n.innerHTML=t,n.className="support-status ".concat(r)}},{key:"setupEventListeners",value:function(){var n=this,t=document.getElementById("enableNotifications"),r=document.getElementById("disableNotifications"),e=document.getElementById("testNotification");t.addEventListener("click",(function(){return n.enableNotifications()})),r.addEventListener("click",(function(){return n.disableNotifications()})),e.addEventListener("click",(function(){return n.testNotification()}))}},{key:"enableNotifications",value:(o=Ht(Mt().mark((function n(){var t,r=this;return Mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=document.getElementById("enableNotifications"),n.prev=1,t.disabled=!0,t.innerHTML='<i class="fa-solid fa-spinner fa-spin"></i> Enabling...',n.next=6,this.notificationHelper.subscribeToPush();case 6:this.isSubscribed=!0,this.updateNotificationStatus(),this.updateBrowserSupport(),this.showNotification("Notifications enabled successfully!","success"),setTimeout((function(){r.notificationHelper.showLocalNotification("Welcome to StoryShare!",{body:"You will now receive notifications about new stories and updates.",icon:"/icons/icon-192x192.png"})}),1e3),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(1),console.error("Error enabling notifications:",n.t0),this.showNotification("Failed to enable notifications: ".concat(n.t0.message),"error");case 17:return n.prev=17,t.disabled=!1,t.innerHTML='<i class="fa-solid fa-bell"></i> Enable Notifications',n.finish(17);case 21:case"end":return n.stop()}}),n,this,[[1,13,17,21]])}))),function(){return o.apply(this,arguments)})},{key:"disableNotifications",value:(e=Ht(Mt().mark((function n(){var t;return Mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=document.getElementById("disableNotifications"),n.prev=1,t.disabled=!0,t.innerHTML='<i class="fa-solid fa-spinner fa-spin"></i> Disabling...',n.next=6,this.notificationHelper.unsubscribeFromPush();case 6:this.isSubscribed=!1,this.updateNotificationStatus(),this.updateBrowserSupport(),this.showNotification("Notifications disabled successfully!","success"),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(1),console.error("Error disabling notifications:",n.t0),this.showNotification("Failed to disable notifications: ".concat(n.t0.message),"error");case 16:return n.prev=16,t.disabled=!1,t.innerHTML='<i class="fa-solid fa-bell-slash"></i> Disable Notifications',n.finish(16);case 20:case"end":return n.stop()}}),n,this,[[1,12,16,20]])}))),function(){return e.apply(this,arguments)})},{key:"testNotification",value:(r=Ht(Mt().mark((function n(){var t;return Mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=document.getElementById("testNotification"),n.prev=1,t.disabled=!0,t.innerHTML='<i class="fa-solid fa-spinner fa-spin"></i> Sending...',n.next=6,this.notificationHelper.showLocalNotification("Test Notification",{body:"This is a test notification from StoryShare. If you can see this, notifications are working correctly!",icon:"/icons/icon-192x192.png",tag:"test-notification"});case 6:this.showNotification("Test notification sent!","success"),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),console.error("Error sending test notification:",n.t0),this.showNotification("Failed to send test notification: ".concat(n.t0.message),"error");case 13:return n.prev=13,t.disabled=!1,t.innerHTML='<i class="fa-solid fa-vial"></i> Test Notification',n.finish(13);case 17:case"end":return n.stop()}}),n,this,[[1,9,13,17]])}))),function(){return r.apply(this,arguments)})},{key:"showUnsupportedMessage",value:function(){document.getElementById("notificationStatus").innerHTML='\n      <div class="error-container">\n        <div class="error-icon"><i class="fa-solid fa-exclamation-triangle"></i></div>\n        <h3>Notifications Not Supported</h3>\n        <p>Your browser doesn\'t support push notifications. Please try using a modern browser like Chrome, Firefox, or Safari.</p>\n      </div>\n    '}},{key:"showErrorMessage",value:function(n){document.getElementById("notificationStatus").innerHTML='\n      <div class="error-container">\n        <div class="error-icon"><i class="fa-solid fa-times-circle"></i></div>\n        <h3>Error</h3>\n        <p>'.concat(n,'</p>\n        <button onclick="location.reload()" class="button">\n          <i class="fa-solid fa-refresh"></i> Retry\n        </button>\n      </div>\n    ')}},{key:"showNotification",value:function(n,t){var r=document.createElement("div");r.className="notification ".concat(t),r.innerHTML='\n      <i class="fa-solid '.concat("success"===t?"fa-check-circle":"fa-exclamation-circle",'"></i>\n      <p>').concat(n,"</p>\n    "),document.body.appendChild(r),setTimeout((function(){r.classList.add("show")}),10),setTimeout((function(){r.classList.remove("show"),setTimeout((function(){document.body.contains(r)&&document.body.removeChild(r)}),300)}),3e3)}}],t&&Ut(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,r,e,o,i,a}();const Zt=Wt;function Qt(n){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Qt(n)}function Vt(){Vt=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Qt(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(Qt(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function Xt(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function Jt(n){return function(){var t=this,r=arguments;return new Promise((function(e,o){var i=n.apply(t,r);function a(n){Xt(i,e,o,a,s,"next",n)}function s(n){Xt(i,e,o,a,s,"throw",n)}a(void 0)}))}}function Kt(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,$t(e.key),e)}}function $t(n){var t=function(n){if("object"!=Qt(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=Qt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Qt(t)?t:t+""}var nr=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.idbHelper=new F},t=[{key:"getTemplate",value:function(){return'\n      <section class="favorites-section" aria-labelledby="favorites-heading">\n        <h2 id="favorites-heading" class="content__heading"><i class="fa-solid fa-heart"></i> Favorite Stories</h2>\n        <div class="favorites-actions">\n          <button id="clearFavoritesBtn" class="button danger">\n            <i class="fa-solid fa-trash"></i> Clear All Favorites\n          </button>\n        </div>\n        <div id="favorites" class="stories">\n          <div class="loading">\n            <i class="fa-solid fa-spinner fa-spin"></i>\n            <p>Loading favorite stories...</p>\n          </div>\n        </div>\n      </section>\n    '}},{key:"afterRender",value:(e=Jt(Vt().mark((function n(){return Vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.showLoading(),n.next=3,this.displayFavorites();case 3:this.initEventListeners();case 4:case"end":return n.stop()}}),n,this)}))),function(){return e.apply(this,arguments)})},{key:"showLoading",value:function(){document.querySelector("#favorites").innerHTML='\n      <div class="loading">\n        <i class="fa-solid fa-spinner fa-spin"></i>\n        <p>Loading favorite stories...</p>\n      </div>\n    '}},{key:"displayFavorites",value:(r=Jt(Vt().mark((function n(){var t,r;return Vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=document.querySelector("#favorites"),n.prev=1,n.next=4,this.idbHelper.getFavorites();case 4:(r=n.sent).length>0?(t.innerHTML="",r.sort((function(n,t){return t.addedAt-n.addedAt})),r.forEach((function(n){t.innerHTML+=E(n,!0)})),this.initFavoriteButtons()):t.innerHTML='\n  <div class="empty-favorites">\n    <div class="empty-icon">\n      <i class="fa-regular fa-heart"></i>\n    </div>\n    <h3>No Favorite Stories Yet</h3>\n    <p>Stories you mark as favorites will appear here</p>\n    <a href="#/home" class="button">Browse Stories</a>\n  </div>\n',n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.error("Error displaying favorites:",n.t0),t.innerHTML='\n        <div class="error">\n          <i class="fa-solid fa-triangle-exclamation"></i>\n          <p>Error loading favorites: '.concat(n.t0.message,"</p>\n        </div>\n      ");case 12:case"end":return n.stop()}}),n,this,[[1,8]])}))),function(){return r.apply(this,arguments)})},{key:"initEventListeners",value:function(){var n=this,t=document.getElementById("clearFavoritesBtn");t&&t.addEventListener("click",Jt(Vt().mark((function t(){return Vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to clear all favorites?")){t.next=6;break}return t.next=3,n.idbHelper.clearAllFavorites();case 3:return n.showNotification("All favorites have been cleared","success"),t.next=6,n.displayFavorites();case 6:case"end":return t.stop()}}),t)}))))}},{key:"initFavoriteButtons",value:function(){var n=this;document.querySelectorAll(".favorite-button").forEach((function(t){t.addEventListener("click",function(){var r=Jt(Vt().mark((function r(e){var o;return Vt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),o=t.dataset.id,r.prev=2,r.next=5,n.idbHelper.removeFromFavorites(o);case 5:return n.showNotification("Removed from favorites","success"),r.next=8,n.displayFavorites();case 8:r.next=14;break;case 10:r.prev=10,r.t0=r.catch(2),console.error("Error removing from favorites:",r.t0),n.showNotification("Failed to remove from favorites","error");case 14:case"end":return r.stop()}}),r,null,[[2,10]])})));return function(n){return r.apply(this,arguments)}}())}))}},{key:"showNotification",value:function(n,t){var r=document.createElement("div");r.className="notification ".concat(t),r.innerHTML='\n      <i class="fa-solid '.concat("success"===t?"fa-check-circle":"fa-exclamation-circle",'"></i>\n      <p>').concat(n,"</p>\n    "),document.body.appendChild(r),setTimeout((function(){r.classList.add("show")}),10),setTimeout((function(){r.classList.remove("show"),setTimeout((function(){document.body.contains(r)&&document.body.removeChild(r)}),300)}),3e3)}}],t&&Kt(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,r,e}();const tr=nr;function rr(n){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},rr(n)}function er(){er=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==rr(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(rr(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function or(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function ir(n){return function(){var t=this,r=arguments;return new Promise((function(e,o){var i=n.apply(t,r);function a(n){or(i,e,o,a,s,"next",n)}function s(n){or(i,e,o,a,s,"throw",n)}a(void 0)}))}}var ar,sr,cr,ur,lr,fr,pr,dr=new Et,hr=new St;const Ar={"/":{view:new W,presenter:function(n){return new jn({view:n,storyRepository:dr,authRepository:hr})},render:function(){return this.view.getTemplate()},afterRender:(pr=ir(er().mark((function n(){var t;return er().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=this.presenter(this.view),n.next=3,t.showAllStories();case 3:case"end":return n.stop()}}),n,this)}))),function(){return pr.apply(this,arguments)})},"/home":{view:new W,presenter:function(n){return new jn({view:n,storyRepository:dr,authRepository:hr})},render:function(){return this.view.getTemplate()},afterRender:(fr=ir(er().mark((function n(){var t;return er().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=this.presenter(this.view),n.next=3,t.showAllStories();case 3:case"end":return n.stop()}}),n,this)}))),function(){return fr.apply(this,arguments)})},"/detail/:id":{view:new $,presenter:function(n,t){return new zn({view:n,storyRepository:dr,authRepository:hr,id:t})},render:function(){return this.view.getTemplate()},afterRender:(lr=ir(er().mark((function n(){var t,r,e,o;return er().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=window.location.hash.slice(1).toLowerCase(),r=t.split("/"),e=r[2],o=this.presenter(this.view,e),n.next=6,o.showStoryDetail();case 6:case"end":return n.stop()}}),n,this)}))),function(){return lr.apply(this,arguments)})},"/add":{view:new sn,presenter:function(n){return new Un({view:n,storyRepository:dr,authRepository:hr})},render:function(){return this.view.getTemplate()},afterRender:(ur=ir(er().mark((function n(){var t;return er().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=this.presenter(this.view),n.next=3,t.init();case 3:return n.abrupt("return",(function(){t.destroy()}));case 4:case"end":return n.stop()}}),n,this)}))),function(){return ur.apply(this,arguments)})},"/login":{view:new fn,presenter:function(n){return new Jn({view:n,authRepository:hr})},render:function(){return this.view.getTemplate()},afterRender:function(){var n=this.presenter(this.view);return n.init(),function(){n.destroy()}}},"/register":{view:new An,presenter:function(n){return new ot({view:n,authRepository:hr})},render:function(){return this.view.getTemplate()},afterRender:function(){var n=this.presenter(this.view);return n.init(),function(){n.destroy()}}},"/notifications":{view:new Zt,presenter:null,render:function(){return this.view.getTemplate()},afterRender:(cr=ir(er().mark((function n(){return er().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.view.afterRender();case 2:case"end":return n.stop()}}),n,this)}))),function(){return cr.apply(this,arguments)})},"/favorites":{view:new tr,presenter:null,render:function(){return this.view.getTemplate()},afterRender:(sr=ir(er().mark((function n(){return er().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.view.afterRender();case 2:case"end":return n.stop()}}),n,this)}))),function(){return sr.apply(this,arguments)})},"/404":{view:new wn,presenter:null,render:function(){return this.view.getTemplate()},afterRender:(ar=ir(er().mark((function n(){return er().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.view.afterRender();case 2:case"end":return n.stop()}}),n,this)}))),function(){return ar.apply(this,arguments)})}},gr={fadeOut:function(n){return n.animate([{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(-20px)"}],{duration:300,easing:"ease-out",fill:"forwards"})},fadeIn:function(n){return n.animate([{opacity:0,transform:"translateY(20px)"},{opacity:1,transform:"translateY(0)"}],{duration:300,easing:"ease-out",fill:"forwards"})},slideLeft:function(n){return n.animate([{opacity:0,transform:"translateX(100px)"},{opacity:1,transform:"translateX(0)"}],{duration:400,easing:"cubic-bezier(0.25, 1, 0.5, 1)",fill:"forwards"})},slideRight:function(n){return n.animate([{opacity:0,transform:"translateX(-100px)"},{opacity:1,transform:"translateX(0)"}],{duration:400,easing:"cubic-bezier(0.25, 1, 0.5, 1)",fill:"forwards"})},zoomIn:function(n){return n.animate([{opacity:0,transform:"scale(0.95)"},{opacity:1,transform:"scale(1)"}],{duration:400,easing:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fill:"forwards"})},determineAnimationType:function(n,t){var r="fade";return t.includes("/detail/")?r="zoom":n.includes("/detail/")&&"/home"===t?r="slideRight":"/add"===t?r="slideLeft":"/add"===n&&"/home"===t?r="slideRight":"/login"!==t&&"/register"!==t||(r="fade"),r},applyAnimation:function(n,t){switch(t){case"zoom":this.zoomIn(n);break;case"slideLeft":this.slideLeft(n);break;case"slideRight":this.slideRight(n);break;default:this.fadeIn(n)}}};function vr(n){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vr(n)}function mr(){mr=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==vr(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(vr(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function yr(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function br(n){return function(){var t=this,r=arguments;return new Promise((function(e,o){var i=n.apply(t,r);function a(n){yr(i,e,o,a,s,"next",n)}function s(n){yr(i,e,o,a,s,"throw",n)}a(void 0)}))}}function Er(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,wr(e.key),e)}}function wr(n){var t=function(n){if("object"!=vr(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=vr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==vr(t)?t:t+""}const xr=function(){return n=function n(t){var r=t.button,e=t.drawer,o=t.content;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._button=r,this._drawer=e,this._content=o,this._cleanupFunction=null,this._currentPage=null,this._previousUrl=null,this._initialAppShell()},t=[{key:"_initialAppShell",value:function(){y.init({button:this._button,drawer:this._drawer,content:this._content})}},{key:"renderPage",value:(o=br(mr().mark((function n(){var t,r,e,o;return mr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=b.parseActiveUrlWithCombiner(),r=this._previousUrl||t,this._previousUrl=t,b.isValidRoute(Ar,t)||(console.log("Route not found:",t,"Redirecting to 404"),t=b.getNotFoundRoute(),window.history.replaceState(null,null,"#/404")),this._cleanupFunction&&(this._cleanupFunction(),this._cleanupFunction=null),e=Ar[t]){n.next=9;break}return console.error("Page not found for URL:",t),n.abrupt("return");case 9:if(n.prev=9,!document.startViewTransition){n.next=15;break}return n.next=13,this._renderWithViewTransition(e,r,t);case 13:n.next=17;break;case 15:return n.next=17,this._renderWithFallbackAnimation(e,r,t);case 17:(o=document.querySelector(".skip-link"))&&o.addEventListener("click",(function(n){n.preventDefault(),document.querySelector("#mainContent").focus()})),n.next=25;break;case 21:n.prev=21,n.t0=n.catch(9),console.error("Error rendering page:",n.t0),this._content.innerHTML='\n        <div class="error">\n          <i class="fa-solid fa-triangle-exclamation"></i>\n          <p>Error loading page: '.concat(n.t0.message,'</p>\n          <a href="#/home" class="button">Go Home</a>\n        </div>\n      ');case 25:case"end":return n.stop()}}),n,this,[[9,21]])}))),function(){return o.apply(this,arguments)})},{key:"_renderWithViewTransition",value:(e=br(mr().mark((function n(t,r,e){var o,i,a=this;return mr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=this._getTransitionType(r,e),this._content.style.viewTransitionName="main-content",document.documentElement.setAttribute("data-transition-type",o),i=document.startViewTransition(br(mr().mark((function n(){var r,e;return mr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.render();case 2:return r=n.sent,a._content.innerHTML=r,n.next=6,t.afterRender();case 6:"function"==typeof(e=n.sent)&&(a._cleanupFunction=e);case 8:case"end":return n.stop()}}),n)})))),n.next=6,i.finished;case 6:document.documentElement.removeAttribute("data-transition-type");case 7:case"end":return n.stop()}}),n,this)}))),function(n,t,r){return e.apply(this,arguments)})},{key:"_renderWithFallbackAnimation",value:(r=br(mr().mark((function n(t,r,e){var o,i,a,s,c=this;return mr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(o=document.createElement("div")).className="page-content",o.style.opacity="0",n.next=5,t.render();case 5:if(o.innerHTML=n.sent,i=gr.determineAnimationType(r,e),!this._currentPage){n.next=11;break}return a=gr.fadeOut(this._currentPage),n.next=11,new Promise((function(n){a.onfinish=function(){c._currentPage&&c._currentPage.parentNode&&c._content.removeChild(c._currentPage),n()}}));case 11:return this._content.appendChild(o),this._currentPage=o,gr.applyAnimation(o,i),n.next=16,t.afterRender();case 16:"function"==typeof(s=n.sent)&&(this._cleanupFunction=s);case 18:case"end":return n.stop()}}),n,this)}))),function(n,t,e){return r.apply(this,arguments)})},{key:"_getTransitionType",value:function(n,t){return t.includes("/detail/")?"detail":n.includes("/detail/")&&"/home"===t?"back-to-home":"/add"===t?"add-story":"/add"===n&&"/home"===t?"back-from-add":"/login"===t||"/register"===t?"auth":"/login"===n||"/register"===n?"from-auth":"/404"===t?"not-found":"default"}}],t&&Er(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,r,e,o}();function Cr(n){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cr(n)}function Br(){Br=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Cr(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(Cr(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function kr(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}const _r=function(){var n,t=(n=Br().mark((function n(){var t;return Br().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!("serviceWorker"in navigator)){n.next=13;break}return n.prev=1,n.next=4,navigator.serviceWorker.register("./sw.js");case 4:return(t=n.sent).addEventListener("updatefound",(function(){var n=t.installing;n&&n.addEventListener("statechange",(function(){"installed"===n.state&&navigator.serviceWorker.controller&&n.postMessage({type:"SKIP_WAITING"})}))})),n.abrupt("return",t);case 9:throw n.prev=9,n.t0=n.catch(1),console.error("Failed to register service worker:",n.t0),n.t0;case 13:case"end":return n.stop()}}),n,null,[[1,9]])})),function(){var t=this,r=arguments;return new Promise((function(e,o){var i=n.apply(t,r);function a(n){kr(i,e,o,a,s,"next",n)}function s(n){kr(i,e,o,a,s,"throw",n)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();function Sr(n){return Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Sr(n)}function jr(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,Ir(e.key),e)}}function Ir(n){var t=function(n){if("object"!=Sr(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=Sr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Sr(t)?t:t+""}const Or=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.isInitialized=!1},(t=[{key:"getShellTemplate",value:function(){return'\n        <div class="app-shell">\n          <header class="app-bar" id="appBar">\n            <a href="#mainContent" class="skip-link">Skip to content</a>\n            \n            <div class="app-bar__menu">\n              <button id="hamburgerButton" aria-label="Toggle navigation menu">\n                <i class="fa-solid fa-bars"></i>\n              </button>\n            </div>\n            \n            <div class="app-bar__brand">\n              <h1><i class="fa-solid fa-book-open"></i> Rifaildy\'s StoryShare</h1>\n            </div>\n            \n            <nav id="navigationDrawer" class="app-bar__navigation" aria-label="Main navigation">\n              <ul>\n                <li><a href="#/home"><i class="fa-solid fa-house"></i> Home</a></li>\n                <li><a href="#/favorites"><i class="fa-solid fa-heart"></i> Favorites</a></li>\n                <li><a href="#/add"><i class="fa-solid fa-plus"></i> Add Story</a></li>\n                <li><a href="#/notifications"><i class="fa-solid fa-bell"></i> Notifications</a></li>\n                <li id="authMenu"></li>\n              </ul>\n            </nav>\n          </header>\n  \n          <main id="mainContent" class="main-content" tabindex="-1">\n            <div class="content-loader" id="contentLoader">\n              <div class="loader-spinner">\n                <i class="fa-solid fa-spinner fa-spin"></i>\n              </div>\n              <p>Loading...</p>\n            </div>\n          </main>\n  \n          <footer class="app-footer" id="appFooter">\n            <div class="footer-content">\n              <p class="copyright">Rifaildy Nurhuda Assalam - 2025 - Dicoding Intermediate Web Project</p>\n            </div>\n          </footer>\n        </div>\n      '}},{key:"init",value:function(){this.isInitialized||(document.body.innerHTML=this.getShellTemplate(),this.isInitialized=!0,document.body.classList.add("app-shell-loaded"),console.log("Application Shell initialized"))}},{key:"showLoader",value:function(){var n=document.getElementById("contentLoader");n&&(n.style.display="flex")}},{key:"hideLoader",value:function(){var n=document.getElementById("contentLoader");n&&(n.style.display="none")}},{key:"updateContent",value:function(n){var t=document.getElementById("mainContent"),r=document.getElementById("contentLoader");t&&(r&&(r.style.display="none"),t.innerHTML=n+(r?r.outerHTML:""))}},{key:"setLoadingState",value:function(n){n?this.showLoader():this.hideLoader()}},{key:"updateNavigation",value:function(n){document.querySelectorAll(".app-bar__navigation a").forEach((function(t){t.classList.remove("active"),t.getAttribute("href")==="#".concat(n)&&t.classList.add("active")}))}},{key:"showOfflineIndicator",value:function(){if(!document.querySelector(".offline-indicator")){var n=document.createElement("div");n.className="offline-indicator",n.innerHTML='\n        <i class="fa-solid fa-wifi-slash"></i>\n        <span>You are offline</span>\n      ';var t=document.getElementById("appBar");t&&t.appendChild(n)}}},{key:"hideOfflineIndicator",value:function(){var n=document.querySelector(".offline-indicator");n&&n.remove()}}])&&jr(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t}();function Tr(n){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Tr(n)}function Pr(){Pr=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Tr(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(Tr(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function Lr(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function Nr(n){return function(){var t=this,r=arguments;return new Promise((function(e,o){var i=n.apply(t,r);function a(n){Lr(i,e,o,a,s,"next",n)}function s(n){Lr(i,e,o,a,s,"throw",n)}a(void 0)}))}}function zr(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,Fr(e.key),e)}}function Fr(n){var t=function(n){if("object"!=Tr(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=Tr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Tr(t)?t:t+""}const Yr=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)},t=[{key:"getAllStories",value:(o=Nr(Pr().mark((function n(){var t,r,e;return Pr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,dt.isLoggedIn()){n.next=3;break}throw new Error("Missing authentication");case 3:return t=dt.getToken(),n.next=6,fetch(at.LIST,{headers:{Authorization:"Bearer ".concat(t)}});case 6:return r=n.sent,n.next=9,r.json();case 9:if(!(e=n.sent).error){n.next=12;break}throw new Error(e.message);case 12:return n.abrupt("return",e.listStory);case 15:throw n.prev=15,n.t0=n.catch(0),console.error("Error getting stories:",n.t0),n.t0;case 19:case"end":return n.stop()}}),n,null,[[0,15]])}))),function(){return o.apply(this,arguments)})},{key:"getStoryDetail",value:(e=Nr(Pr().mark((function n(t){var r,e,o;return Pr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,dt.isLoggedIn()){n.next=3;break}throw new Error("Missing authentication");case 3:return r=dt.getToken(),n.next=6,fetch(at.DETAIL(t),{headers:{Authorization:"Bearer ".concat(r)}});case 6:return e=n.sent,n.next=9,e.json();case 9:if(!(o=n.sent).error){n.next=14;break}if(404!==e.status){n.next=13;break}throw new Error("Story not found");case 13:throw new Error(o.message);case 14:return n.abrupt("return",o.story);case 17:throw n.prev=17,n.t0=n.catch(0),console.error("Error getting story detail:",n.t0),n.t0;case 21:case"end":return n.stop()}}),n,null,[[0,17]])}))),function(n){return e.apply(this,arguments)})},{key:"addNewStory",value:(r=Nr(Pr().mark((function n(t){var r,e,o;return Pr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,dt.isLoggedIn()){n.next=3;break}throw new Error("Missing authentication");case 3:return r=dt.getToken(),n.next=6,fetch(at.ADD,{method:"POST",headers:{Authorization:"Bearer ".concat(r)},body:t});case 6:return e=n.sent,n.next=9,e.json();case 9:if(!(o=n.sent).error){n.next=12;break}throw new Error(o.message);case 12:return n.abrupt("return",o);case 15:throw n.prev=15,n.t0=n.catch(0),console.error("Error adding new story:",n.t0),n.t0;case 19:case"end":return n.stop()}}),n,null,[[0,15]])}))),function(n){return r.apply(this,arguments)})}],t&&zr(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,r,e,o}();function Dr(n){return Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Dr(n)}function Gr(n,t){var r="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=function(n,t){if(n){if("string"==typeof n)return Mr(n,t);var r={}.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mr(n,t):void 0}}(n))||t&&n&&"number"==typeof n.length){r&&(n=r);var e=0,o=function(){};return{s:o,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(n)},n:function(){var n=r.next();return a=n.done,n},e:function(n){s=!0,i=n},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Mr(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=Array(t);r<t;r++)e[r]=n[r];return e}function Rr(){Rr=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Dr(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(Dr(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function Hr(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function Ur(n){return function(){var t=this,r=arguments;return new Promise((function(e,o){var i=n.apply(t,r);function a(n){Hr(i,e,o,a,s,"next",n)}function s(n){Hr(i,e,o,a,s,"throw",n)}a(void 0)}))}}function qr(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,Wr(e.key),e)}}function Wr(n){var t=function(n){if("object"!=Dr(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=Dr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Dr(t)?t:t+""}const Zr=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.idbHelper=new F,this.isOnline=navigator.onLine,this.setupEventListeners()},t=[{key:"setupEventListeners",value:function(){var n=this;window.addEventListener("online",(function(){n.isOnline=!0,n.handleOnline()})),window.addEventListener("offline",(function(){n.isOnline=!1,n.handleOffline()})),document.addEventListener("visibilitychange",(function(){!document.hidden&&n.isOnline&&n.syncOfflineQueue()}))}},{key:"handleOnline",value:(a=Ur(Rr().mark((function n(){return Rr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("App is back online"),this.showConnectionStatus("online"),n.next=4,this.syncOfflineQueue();case 4:case"end":return n.stop()}}),n,this)}))),function(){return a.apply(this,arguments)})},{key:"handleOffline",value:function(){console.log("App is offline"),this.showConnectionStatus("offline")}},{key:"showConnectionStatus",value:function(n){var t=document.querySelector(".connection-status");t&&t.remove();var r=document.createElement("div");r.className="connection-status ".concat(n),r.innerHTML="online"===n?'<i class="fa-solid fa-wifi"></i> Back online - Syncing data...':'<i class="fa-solid fa-wifi-slash"></i> You are offline',document.body.appendChild(r),"online"===n&&setTimeout((function(){r.parentNode&&r.remove()}),3e3)}},{key:"syncOfflineQueue",value:(i=Ur(Rr().mark((function n(){var t,r,e,o;return Rr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.idbHelper.getOfflineQueue();case 3:if(0!==(t=n.sent).length){n.next=6;break}return n.abrupt("return");case 6:console.log("Syncing ".concat(t.length," offline operations...")),r=Gr(t),n.prev=8,r.s();case 10:if((e=r.n()).done){n.next=25;break}return o=e.value,n.prev=12,n.next=15,this.processOfflineOperation(o);case 15:return n.next=17,this.idbHelper.removeFromOfflineQueue(o.id);case 17:console.log("Synced operation:",o.type),n.next=23;break;case 20:n.prev=20,n.t0=n.catch(12),console.error("Failed to sync operation:",o,n.t0);case 23:n.next=10;break;case 25:n.next=30;break;case 27:n.prev=27,n.t1=n.catch(8),r.e(n.t1);case 30:return n.prev=30,r.f(),n.finish(30);case 33:t.length>0&&this.showSyncNotification("Offline data synced successfully!"),n.next=39;break;case 36:n.prev=36,n.t2=n.catch(0),console.error("Error syncing offline queue:",n.t2);case 39:case"end":return n.stop()}}),n,this,[[0,36],[8,27,30,33],[12,20]])}))),function(){return i.apply(this,arguments)})},{key:"processOfflineOperation",value:(o=Ur(Rr().mark((function n(t){return Rr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=t.type,n.next="ADD_STORY"===n.t0?3:6;break;case 3:return n.next=5,Yr.addNewStory(t.data);case 5:return n.abrupt("return",n.sent);case 6:throw new Error("Unknown operation type: ".concat(t.type));case 7:case"end":return n.stop()}}),n)}))),function(n){return o.apply(this,arguments)})},{key:"addStoryOffline",value:(e=Ur(Rr().mark((function n(t){var r;return Rr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=t.get("description"),n.next=3,this.formDataToBase64(t.get("photo"));case 3:return n.t1=n.sent,n.t2=t.get("lat"),n.t3=t.get("lon"),r={description:n.t0,photo:n.t1,lat:n.t2,lon:n.t3},n.next=9,this.idbHelper.addToOfflineQueue({type:"ADD_STORY",data:t,preview:r,timestamp:Date.now()});case 9:case"end":return n.stop()}}),n,this)}))),function(n){return e.apply(this,arguments)})},{key:"formDataToBase64",value:(r=Ur(Rr().mark((function n(t){return Rr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return",null);case 2:return n.abrupt("return",new Promise((function(n){var r=new FileReader;r.onload=function(){return n(r.result)},r.readAsDataURL(t)})));case 3:case"end":return n.stop()}}),n)}))),function(n){return r.apply(this,arguments)})},{key:"showSyncNotification",value:function(n){var t=document.createElement("div");t.className="notification success",t.innerHTML='\n      <i class="fa-solid fa-check-circle"></i>\n      <p>'.concat(n,"</p>\n    "),document.body.appendChild(t),setTimeout((function(){t.classList.add("show")}),10),setTimeout((function(){t.classList.remove("show"),setTimeout((function(){document.body.contains(t)&&document.body.removeChild(t)}),300)}),3e3)}},{key:"isStandalone",value:function(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://")}},{key:"getNetworkStatus",value:function(){return{online:this.isOnline,connection:navigator.connection||navigator.mozConnection||navigator.webkitConnection}}}],t&&qr(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,r,e,o,i,a}();function Qr(n){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Qr(n)}function Vr(){Vr=function(){return t};var n,t={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(n,t,r,e){return Object.defineProperty(n,t,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(n){c=function(n,t,r){return n[t]=r}}function u(t,r,e,o){var i=r&&r.prototype instanceof p?r:p,a=Object.create(i.prototype);return c(a,"_invoke",function(t,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:n,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var c=E(s,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var u=l(t,r,e);if("normal"===u.type){if(o=e.done?4:2,u.arg===f)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(o=4,e.method="throw",e.arg=u.arg)}}}(t,e,new C(o||[])),!0),a}function l(n,t,r){try{return{type:"normal",arg:n.call(t,r)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f={};function p(){}function d(){}function h(){}var A={};c(A,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(B([])));v&&v!==r&&e.call(v,i)&&(A=v);var m=h.prototype=p.prototype=Object.create(A);function y(n){["next","throw","return"].forEach((function(t){c(n,t,(function(n){return this._invoke(t,n)}))}))}function b(n,t){function r(o,i,a,s){var c=l(n[o],n,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Qr(f)&&e.call(f,"__await")?t.resolve(f.__await).then((function(n){r("next",n,a,s)}),(function(n){r("throw",n,a,s)})):t.resolve(f).then((function(n){u.value=n,a(u)}),(function(n){return r("throw",n,a,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(n,e){function i(){return new t((function(t,o){r(n,e,t,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(t,r){var e=r.method,o=t.i[e];if(o===n)return r.delegate=null,"throw"===e&&t.i.return&&(r.method="return",r.arg=n,E(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,t.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[t.r]=a.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function w(n){this.tryEntries.push(n)}function x(t){var r=t[4]||{};r.type="normal",r.arg=n,t[4]=r}function C(n){this.tryEntries=[[-1]],n.forEach(w,this),this.reset(!0)}function B(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(e.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=n,r.done=!0,r};return a.next=a}}throw new TypeError(Qr(t)+" is not iterable")}return d.prototype=h,c(m,"constructor",h),c(h,"constructor",d),d.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,h):(n.__proto__=h,c(n,s,"GeneratorFunction")),n.prototype=Object.create(m),n},t.awrap=function(n){return{__await:n}},y(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var a=new b(u(n,r,e,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},y(m),c(m,s,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(n){var t=Object(n),r=[];for(var e in t)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in t)return n.value=e,n.done=!1,n;return n.done=!0,n}},t.values=B,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(x),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0][4];if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n){a.type="throw",a.arg=t,r.next=n}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,c=i[1],u=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<c)return this.method="next",this.arg=n,e(c),!0;if(s<u)return e(u),!1}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===n||"continue"===n)&&o[0]<=t&&t<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),f},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===n)return this.complete(r[4],r[3]),x(r),f}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===n){var e=r[4];if("throw"===e.type){var o=e.arg;x(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={i:B(t),r,n:e},"next"===this.method&&(this.arg=n),f}},t}function Xr(n,t,r,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void r(n)}s.done?t(c):Promise.resolve(c).then(e,o)}function Jr(n){return function(){var t=this,r=arguments;return new Promise((function(e,o){var i=n.apply(t,r);function a(n){Xr(i,e,o,a,s,"next",n)}function s(n){Xr(i,e,o,a,s,"throw",n)}a(void 0)}))}}var Kr=new Or,$r=new St,ne=new Dt,te=new Zr;Kr.init();var re,ee=new xr({button:document.querySelector("#hamburgerButton"),drawer:document.querySelector("#navigationDrawer"),content:document.querySelector("#mainContent"),appShell:Kr,offlineManager:te}),oe=document.createElement("button");oe.className="install-button",oe.innerHTML='<i class="fa-solid fa-download"></i> Install App',oe.style.display="none",window.addEventListener("beforeinstallprompt",(function(n){console.log("PWA install prompt available"),n.preventDefault(),re=n,oe.style.display="block",document.body.appendChild(oe)})),oe.addEventListener("click",Jr(Vr().mark((function n(){var t,r;return Vr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!re){n.next=9;break}return re.prompt(),n.next=4,re.userChoice;case 4:t=n.sent,r=t.outcome,console.log("PWA install outcome: ".concat(r)),"accepted"===r&&(oe.style.display="none"),re=null;case 9:case"end":return n.stop()}}),n)})))),window.addEventListener("appinstalled",(function(){console.log("PWA was installed"),oe.style.display="none","serviceWorker"in navigator&&"Notification"in window&&navigator.serviceWorker.ready.then((function(n){n.showNotification("Welcome to Rifaildy's StoryShare!",{body:"App installed successfully. You can now use Rifaildy's StoryShare offline!",icon:"/icons/icon-192x192.png",badge:"/icons/icon-72x72.png",tag:"app-installed"})}))})),window.addEventListener("hashchange",Jr(Vr().mark((function n(){return Vr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Kr.setLoadingState(!0),n.prev=1,!document.startViewTransition){n.next=7;break}return n.next=5,document.startViewTransition(Jr(Vr().mark((function n(){return Vr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ee.renderPage();case 2:ie();case 3:case"end":return n.stop()}}),n)})))).finished;case 5:n.next=10;break;case 7:return n.next=9,ee.renderPage();case 9:ie();case 10:n.next=16;break;case 12:n.prev=12,n.t0=n.catch(1),console.error("Error during navigation:",n.t0),Kr.setLoadingState(!1);case 16:return n.prev=16,Kr.setLoadingState(!1),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[1,12,16,19]])})))),window.addEventListener("load",Jr(Vr().mark((function n(){return Vr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("App loading started..."),Kr.setLoadingState(!0),n.prev=2,ie(),!document.startViewTransition){n.next=9;break}return n.next=7,document.startViewTransition(Jr(Vr().mark((function n(){return Vr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ee.renderPage();case 2:case"end":return n.stop()}}),n)})))).finished;case 7:n.next=11;break;case 9:return n.next=11,ee.renderPage();case 11:return n.next=13,_r();case 13:if(!$r.isLoggedIn()){n.next=23;break}return n.prev=14,n.next=17,ne.init();case 17:console.log("Notification helper initialized"),n.next=23;break;case 20:n.prev=20,n.t0=n.catch(14),console.error("Error initializing notifications:",n.t0);case 23:ae(),console.log("App loaded successfully"),n.next=30;break;case 27:n.prev=27,n.t1=n.catch(2),console.error("Error during app initialization:",n.t1);case 30:return n.prev=30,Kr.setLoadingState(!1),n.finish(30);case 33:case"end":return n.stop()}}),n,null,[[2,27,30,33],[14,20]])}))));var ie=function(){var n=document.getElementById("authMenu");if(n)if($r.isLoggedIn()){var t=$r.getName();n.innerHTML='\n      <div class="user-menu">\n        <span class="user-name"><i class="fa-solid fa-user"></i> '.concat(t,'</span>\n        <button id="logoutButton" class="logout-button"><i class="fa-solid fa-sign-out-alt"></i> Logout</button>\n      </div>\n    ');var r=document.getElementById("logoutButton");r&&r.addEventListener("click",(function(){$r.logout(),ie(),window.location.hash="#/login"}))}else n.innerHTML='<a href="#/login"><i class="fa-solid fa-sign-in-alt"></i> Login</a>'};function ae(){return se.apply(this,arguments)}function se(){return(se=Jr(Vr().mark((function n(){var t;return Vr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!("serviceWorker"in navigator)){n.next=12;break}return n.prev=1,n.next=4,navigator.serviceWorker.ready;case 4:t=n.sent,setInterval((function(){document.hidden||t.update()}),3e4),t.addEventListener("updatefound",(function(){var n=t.installing;n.addEventListener("statechange",(function(){var t;"installed"===n.state&&navigator.serviceWorker.controller&&((t=document.createElement("div")).className="update-notification",t.innerHTML='\n    <div class="update-content">\n      <i class="fa-solid fa-download"></i>\n      <span>A new version is available!</span>\n      <button id="updateButton" class="update-button">Update</button>\n      <button id="dismissUpdate" class="dismiss-button">Later</button>\n    </div>\n  ',document.body.appendChild(t),document.getElementById("updateButton").addEventListener("click",(function(){window.location.reload()})),document.getElementById("dismissUpdate").addEventListener("click",(function(){t.remove()})),setTimeout((function(){document.body.contains(t)&&t.remove()}),1e4))}))})),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.error("Error checking for updates:",n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))).apply(this,arguments)}window.addEventListener("online",(function(){Kr.hideOfflineIndicator()})),window.addEventListener("offline",(function(){Kr.showOfflineIndicator()})),document.addEventListener("visibilitychange",(function(){!document.hidden&&navigator.onLine&&"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){"sync"in n&&n.sync.register("background-sync")}))})),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",(function(n){n.data&&"BACKGROUND_SYNC"===n.data.type&&(console.log("Background sync completed"),te.syncOfflineQueue())})),"performance"in window&&window.addEventListener("load",(function(){setTimeout((function(){var n=performance.getEntriesByType("navigation")[0];console.log("App load time:",n.loadEventEnd-n.fetchStart,"ms")}),0)})),window.StoryShareApp={appShell:Kr,authRepository:$r,notificationHelper:ne,offlineManager:te,app:ee},"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/sw.js").then((function(n){console.log("Service Worker registered with scope:",n.scope)})).catch((function(n){console.error("Service Worker registration failed:",n)}))}))},196:(n,t,r)=>{r.d(t,{A:()=>s});var e=r(354),o=r.n(e),i=r(314),a=r.n(i)()(o());a.push([n.id,"/* 404 Not Found Page Styles */\n.not-found-section {\n    min-height: calc(100vh - 120px);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 40px 20px;\n    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\n  }\n  \n  .not-found-container {\n    max-width: 800px;\n    width: 100%;\n    display: grid;\n    grid-template-columns: 1fr auto;\n    gap: 40px;\n    align-items: center;\n  }\n  \n  .not-found-content {\n    text-align: left;\n  }\n  \n  .not-found-icon {\n    font-size: 80px;\n    color: var(--primary-color);\n    margin-bottom: 24px;\n    opacity: 0.8;\n  }\n  \n  .not-found-title {\n    font-size: 48px;\n    font-weight: 700;\n    color: var(--text-dark);\n    margin-bottom: 16px;\n    line-height: 1.2;\n  }\n  \n  .not-found-message {\n    font-size: 18px;\n    color: var(--text-light);\n    margin-bottom: 32px;\n    line-height: 1.6;\n  }\n  \n  .not-found-suggestions {\n    margin-bottom: 32px;\n  }\n  \n  .not-found-suggestions h3 {\n    font-size: 20px;\n    color: var(--primary-color);\n    margin-bottom: 16px;\n    font-weight: 600;\n  }\n  \n  .not-found-suggestions ul {\n    list-style: none;\n    padding: 0;\n  }\n  \n  .not-found-suggestions li {\n    padding: 8px 0;\n    display: flex;\n    align-items: center;\n    color: var(--text-dark);\n  }\n  \n  .not-found-suggestions li i {\n    color: var(--primary-color);\n    margin-right: 12px;\n    width: 20px;\n    text-align: center;\n  }\n  \n  .not-found-suggestions a {\n    color: var(--primary-color);\n    text-decoration: none;\n    font-weight: 500;\n    transition: color var(--transition-speed);\n  }\n  \n  .not-found-suggestions a:hover {\n    color: var(--primary-dark);\n    text-decoration: underline;\n  }\n  \n  .not-found-actions {\n    display: flex;\n    gap: 16px;\n    margin-bottom: 32px;\n    flex-wrap: wrap;\n  }\n  \n  .primary-button {\n    background-color: var(--primary-color);\n    color: white;\n    padding: 12px 24px;\n    border-radius: var(--border-radius);\n    text-decoration: none;\n    font-weight: 600;\n    transition: all var(--transition-speed);\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    gap: 8px;\n  }\n  \n  .primary-button:hover {\n    background-color: var(--primary-dark);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(41, 98, 255, 0.3);\n  }\n  \n  .secondary-button {\n    background-color: var(--secondary-color);\n    color: white;\n    padding: 12px 24px;\n    border-radius: var(--border-radius);\n    text-decoration: none;\n    font-weight: 600;\n    transition: all var(--transition-speed);\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    gap: 8px;\n  }\n  \n  .secondary-button:hover {\n    background-color: var(--secondary-dark);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(255, 109, 0, 0.3);\n  }\n  \n  .not-found-help {\n    padding-top: 24px;\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\n  }\n  \n  .help-text {\n    font-size: 14px;\n    color: var(--text-light);\n    margin-bottom: 16px;\n    line-height: 1.5;\n  }\n  \n  .refresh-button {\n    background: none;\n    border: 2px solid var(--primary-color);\n    color: var(--primary-color);\n    padding: 8px 16px;\n    border-radius: var(--border-radius);\n    font-size: 14px;\n    cursor: pointer;\n    transition: all var(--transition-speed);\n    display: inline-flex;\n    align-items: center;\n    gap: 8px;\n  }\n  \n  .refresh-button:hover {\n    background-color: var(--primary-color);\n    color: white;\n  }\n  \n  .not-found-illustration {\n    position: relative;\n    width: 200px;\n    height: 200px;\n  }\n  \n  .floating-elements {\n    position: relative;\n    width: 100%;\n    height: 100%;\n  }\n  \n  .floating-element {\n    position: absolute;\n    font-size: 32px;\n    animation: float 4s ease-in-out infinite;\n    opacity: 0.7;\n  }\n  \n  .floating-element:nth-child(1) {\n    top: 20%;\n    left: 10%;\n    animation-delay: 0s;\n  }\n  \n  .floating-element:nth-child(2) {\n    top: 60%;\n    right: 20%;\n    animation-delay: 1s;\n  }\n  \n  .floating-element:nth-child(3) {\n    bottom: 30%;\n    left: 30%;\n    animation-delay: 2s;\n  }\n  \n  .floating-element:nth-child(4) {\n    top: 10%;\n    right: 10%;\n    animation-delay: 3s;\n  }\n  \n  @keyframes float {\n    0%,\n    100% {\n      transform: translateY(0px) rotate(0deg);\n    }\n    25% {\n      transform: translateY(-20px) rotate(5deg);\n    }\n    50% {\n      transform: translateY(-10px) rotate(-5deg);\n    }\n    75% {\n      transform: translateY(-15px) rotate(3deg);\n    }\n  }\n  \n  /* Responsive Design */\n  @media screen and (max-width: 768px) {\n    .not-found-container {\n      grid-template-columns: 1fr;\n      text-align: center;\n      gap: 32px;\n    }\n  \n    .not-found-content {\n      text-align: center;\n    }\n  \n    .not-found-title {\n      font-size: 36px;\n    }\n  \n    .not-found-icon {\n      font-size: 64px;\n    }\n  \n    .not-found-actions {\n      justify-content: center;\n    }\n  \n    .not-found-illustration {\n      width: 150px;\n      height: 150px;\n      margin: 0 auto;\n    }\n  \n    .floating-element {\n      font-size: 24px;\n    }\n  }\n  \n  @media screen and (max-width: 480px) {\n    .not-found-title {\n      font-size: 28px;\n    }\n  \n    .not-found-message {\n      font-size: 16px;\n    }\n  \n    .not-found-actions {\n      flex-direction: column;\n      align-items: center;\n    }\n  \n    .primary-button,\n    .secondary-button {\n      width: 100%;\n      max-width: 250px;\n    }\n  }\n  \n  /* Animation for page entrance */\n  .not-found-section {\n    animation: fadeInUp 0.6s ease-out;\n  }\n  \n  @keyframes fadeInUp {\n    from {\n      opacity: 0;\n      transform: translateY(30px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n  ","",{version:3,sources:["webpack://./src/styles/not-found.css"],names:[],mappings:"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",sourcesContent:["/* 404 Not Found Page Styles */\r\n.not-found-section {\r\n    min-height: calc(100vh - 120px);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 40px 20px;\r\n    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\r\n  }\r\n  \r\n  .not-found-container {\r\n    max-width: 800px;\r\n    width: 100%;\r\n    display: grid;\r\n    grid-template-columns: 1fr auto;\r\n    gap: 40px;\r\n    align-items: center;\r\n  }\r\n  \r\n  .not-found-content {\r\n    text-align: left;\r\n  }\r\n  \r\n  .not-found-icon {\r\n    font-size: 80px;\r\n    color: var(--primary-color);\r\n    margin-bottom: 24px;\r\n    opacity: 0.8;\r\n  }\r\n  \r\n  .not-found-title {\r\n    font-size: 48px;\r\n    font-weight: 700;\r\n    color: var(--text-dark);\r\n    margin-bottom: 16px;\r\n    line-height: 1.2;\r\n  }\r\n  \r\n  .not-found-message {\r\n    font-size: 18px;\r\n    color: var(--text-light);\r\n    margin-bottom: 32px;\r\n    line-height: 1.6;\r\n  }\r\n  \r\n  .not-found-suggestions {\r\n    margin-bottom: 32px;\r\n  }\r\n  \r\n  .not-found-suggestions h3 {\r\n    font-size: 20px;\r\n    color: var(--primary-color);\r\n    margin-bottom: 16px;\r\n    font-weight: 600;\r\n  }\r\n  \r\n  .not-found-suggestions ul {\r\n    list-style: none;\r\n    padding: 0;\r\n  }\r\n  \r\n  .not-found-suggestions li {\r\n    padding: 8px 0;\r\n    display: flex;\r\n    align-items: center;\r\n    color: var(--text-dark);\r\n  }\r\n  \r\n  .not-found-suggestions li i {\r\n    color: var(--primary-color);\r\n    margin-right: 12px;\r\n    width: 20px;\r\n    text-align: center;\r\n  }\r\n  \r\n  .not-found-suggestions a {\r\n    color: var(--primary-color);\r\n    text-decoration: none;\r\n    font-weight: 500;\r\n    transition: color var(--transition-speed);\r\n  }\r\n  \r\n  .not-found-suggestions a:hover {\r\n    color: var(--primary-dark);\r\n    text-decoration: underline;\r\n  }\r\n  \r\n  .not-found-actions {\r\n    display: flex;\r\n    gap: 16px;\r\n    margin-bottom: 32px;\r\n    flex-wrap: wrap;\r\n  }\r\n  \r\n  .primary-button {\r\n    background-color: var(--primary-color);\r\n    color: white;\r\n    padding: 12px 24px;\r\n    border-radius: var(--border-radius);\r\n    text-decoration: none;\r\n    font-weight: 600;\r\n    transition: all var(--transition-speed);\r\n    display: inline-flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    gap: 8px;\r\n  }\r\n  \r\n  .primary-button:hover {\r\n    background-color: var(--primary-dark);\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 4px 8px rgba(41, 98, 255, 0.3);\r\n  }\r\n  \r\n  .secondary-button {\r\n    background-color: var(--secondary-color);\r\n    color: white;\r\n    padding: 12px 24px;\r\n    border-radius: var(--border-radius);\r\n    text-decoration: none;\r\n    font-weight: 600;\r\n    transition: all var(--transition-speed);\r\n    display: inline-flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    gap: 8px;\r\n  }\r\n  \r\n  .secondary-button:hover {\r\n    background-color: var(--secondary-dark);\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 4px 8px rgba(255, 109, 0, 0.3);\r\n  }\r\n  \r\n  .not-found-help {\r\n    padding-top: 24px;\r\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  .help-text {\r\n    font-size: 14px;\r\n    color: var(--text-light);\r\n    margin-bottom: 16px;\r\n    line-height: 1.5;\r\n  }\r\n  \r\n  .refresh-button {\r\n    background: none;\r\n    border: 2px solid var(--primary-color);\r\n    color: var(--primary-color);\r\n    padding: 8px 16px;\r\n    border-radius: var(--border-radius);\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n    transition: all var(--transition-speed);\r\n    display: inline-flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n  }\r\n  \r\n  .refresh-button:hover {\r\n    background-color: var(--primary-color);\r\n    color: white;\r\n  }\r\n  \r\n  .not-found-illustration {\r\n    position: relative;\r\n    width: 200px;\r\n    height: 200px;\r\n  }\r\n  \r\n  .floating-elements {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  \r\n  .floating-element {\r\n    position: absolute;\r\n    font-size: 32px;\r\n    animation: float 4s ease-in-out infinite;\r\n    opacity: 0.7;\r\n  }\r\n  \r\n  .floating-element:nth-child(1) {\r\n    top: 20%;\r\n    left: 10%;\r\n    animation-delay: 0s;\r\n  }\r\n  \r\n  .floating-element:nth-child(2) {\r\n    top: 60%;\r\n    right: 20%;\r\n    animation-delay: 1s;\r\n  }\r\n  \r\n  .floating-element:nth-child(3) {\r\n    bottom: 30%;\r\n    left: 30%;\r\n    animation-delay: 2s;\r\n  }\r\n  \r\n  .floating-element:nth-child(4) {\r\n    top: 10%;\r\n    right: 10%;\r\n    animation-delay: 3s;\r\n  }\r\n  \r\n  @keyframes float {\r\n    0%,\r\n    100% {\r\n      transform: translateY(0px) rotate(0deg);\r\n    }\r\n    25% {\r\n      transform: translateY(-20px) rotate(5deg);\r\n    }\r\n    50% {\r\n      transform: translateY(-10px) rotate(-5deg);\r\n    }\r\n    75% {\r\n      transform: translateY(-15px) rotate(3deg);\r\n    }\r\n  }\r\n  \r\n  /* Responsive Design */\r\n  @media screen and (max-width: 768px) {\r\n    .not-found-container {\r\n      grid-template-columns: 1fr;\r\n      text-align: center;\r\n      gap: 32px;\r\n    }\r\n  \r\n    .not-found-content {\r\n      text-align: center;\r\n    }\r\n  \r\n    .not-found-title {\r\n      font-size: 36px;\r\n    }\r\n  \r\n    .not-found-icon {\r\n      font-size: 64px;\r\n    }\r\n  \r\n    .not-found-actions {\r\n      justify-content: center;\r\n    }\r\n  \r\n    .not-found-illustration {\r\n      width: 150px;\r\n      height: 150px;\r\n      margin: 0 auto;\r\n    }\r\n  \r\n    .floating-element {\r\n      font-size: 24px;\r\n    }\r\n  }\r\n  \r\n  @media screen and (max-width: 480px) {\r\n    .not-found-title {\r\n      font-size: 28px;\r\n    }\r\n  \r\n    .not-found-message {\r\n      font-size: 16px;\r\n    }\r\n  \r\n    .not-found-actions {\r\n      flex-direction: column;\r\n      align-items: center;\r\n    }\r\n  \r\n    .primary-button,\r\n    .secondary-button {\r\n      width: 100%;\r\n      max-width: 250px;\r\n    }\r\n  }\r\n  \r\n  /* Animation for page entrance */\r\n  .not-found-section {\r\n    animation: fadeInUp 0.6s ease-out;\r\n  }\r\n  \r\n  @keyframes fadeInUp {\r\n    from {\r\n      opacity: 0;\r\n      transform: translateY(30px);\r\n    }\r\n    to {\r\n      opacity: 1;\r\n      transform: translateY(0);\r\n    }\r\n  }\r\n  "],sourceRoot:""}]);const s=a},249:(n,t,r)=>{r.d(t,{A:()=>u});var e=r(354),o=r.n(e),i=r(314),a=r.n(i),s=r(196),c=a()(o());c.i(s.A),c.push([n.id,':root {\n  --primary-color: #2962ff;\n  --primary-dark: #0039cb;\n  --primary-light: #768fff;\n  --secondary-color: #ff6d00;\n  --secondary-dark: #c43c00;\n  --secondary-light: #ff9e40;\n  --text-dark: #333333;\n  --text-light: #757575;\n  --background-light: #f5f5f5;\n  --background-white: #ffffff;\n  --error-color: #d32f2f;\n  --success-color: #388e3c;\n  --favorite-color: #e91e63;\n  --favorite-dark: #c2185b;\n  --shadow-light: 0 2px 4px rgba(0, 0, 0, 0.1);\n  --shadow-medium: 0 4px 8px rgba(0, 0, 0, 0.1);\n  --border-radius: 8px;\n  --transition-speed: 0.3s;\n\n  /* Animation durations */\n  --animation-short: 300ms;\n  --animation-medium: 400ms;\n  --animation-long: 600ms;\n}\n\n* {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: "Poppins", sans-serif;\n  background-color: var(--background-light);\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  color: var(--text-dark);\n}\n\n/* Application Shell Styles */\n.app-shell {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.app-shell-loaded {\n  opacity: 1;\n  transition: opacity 0.3s ease;\n}\n\n/* Content Loader */\n.content-loader {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 60px 20px;\n  color: var(--text-light);\n}\n\n.loader-spinner {\n  font-size: 48px;\n  color: var(--primary-color);\n  margin-bottom: 20px;\n}\n\n.loader-spinner i {\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n/* Main Content */\n.main-content {\n  flex: 1;\n  position: relative;\n  overflow-x: hidden;\n}\n\n/* Skip to content link for accessibility */\n.skip-link {\n  position: absolute;\n  top: -40px;\n  left: 0;\n  background-color: var(--primary-color);\n  color: white;\n  padding: 8px;\n  z-index: 100;\n  text-decoration: none;\n}\n\n.skip-link:focus {\n  top: 0;\n}\n\n/* App Bar */\n.app-bar {\n  padding: 12px 24px;\n  background-color: var(--background-white);\n  display: grid;\n  grid-template-columns: auto 1fr auto;\n  gap: 16px;\n  position: sticky;\n  top: 0;\n  z-index: 99;\n  box-shadow: var(--shadow-light);\n}\n\n.app-bar .app-bar__menu {\n  display: flex;\n  align-items: center;\n}\n\n.app-bar .app-bar__menu button {\n  background-color: transparent;\n  border: none;\n  font-size: 24px;\n  padding: 8px;\n  cursor: pointer;\n  color: var(--primary-color);\n}\n\n.app-bar .app-bar__brand {\n  display: flex;\n  align-items: center;\n}\n\n.app-bar .app-bar__brand h1 {\n  color: var(--primary-color);\n  font-size: 24px;\n  font-weight: 600;\n  user-select: none;\n}\n\n.app-bar .app-bar__brand h1 i {\n  margin-right: 8px;\n}\n\n.app-bar .app-bar__navigation {\n  position: absolute;\n  top: 60px;\n  left: -250px;\n  width: 250px;\n  transition: all var(--transition-speed);\n  padding: 16px;\n  background-color: var(--background-white);\n  overflow: hidden;\n  box-shadow: var(--shadow-medium);\n  border-radius: 0 0 var(--border-radius) 0;\n}\n\n.app-bar .app-bar__navigation.open {\n  left: 0;\n}\n\n.app-bar .app-bar__navigation ul li {\n  display: list-item;\n  padding: 12px 8px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n}\n\n.app-bar .app-bar__navigation ul li a {\n  text-decoration: none;\n  color: var(--primary-color);\n  font-size: 16px;\n  font-weight: 500;\n  transition: color var(--transition-speed);\n}\n\n.app-bar .app-bar__navigation ul li a:hover,\n.app-bar .app-bar__navigation ul li a.active {\n  color: var(--primary-dark);\n}\n\n.app-bar .app-bar__navigation ul li a i {\n  margin-right: 8px;\n  width: 20px;\n  text-align: center;\n}\n\n/* Offline Indicator */\n.offline-indicator {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  background-color: var(--error-color);\n  color: white;\n  padding: 8px 16px;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  z-index: 98;\n}\n\n/* Connection Status */\n.connection-status {\n  position: fixed;\n  bottom: 20px;\n  left: 20px;\n  padding: 12px 16px;\n  border-radius: var(--border-radius);\n  color: white;\n  font-size: 14px;\n  font-weight: 500;\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  box-shadow: var(--shadow-medium);\n  animation: slideInLeft 0.3s ease;\n}\n\n.connection-status.online {\n  background-color: var(--success-color);\n}\n\n.connection-status.offline {\n  background-color: var(--error-color);\n}\n\n@keyframes slideInLeft {\n  from {\n    transform: translateX(-100%);\n    opacity: 0;\n  }\n  to {\n    transform: translateX(0);\n    opacity: 1;\n  }\n}\n\n/* Install Button */\n.install-button {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  background-color: var(--primary-color);\n  color: white;\n  border: none;\n  padding: 12px 20px;\n  border-radius: 50px;\n  font-weight: 600;\n  cursor: pointer;\n  box-shadow: 0 4px 12px rgba(41, 98, 255, 0.3);\n  transition: all var(--transition-speed);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.install-button:hover {\n  background-color: var(--primary-dark);\n  transform: translateY(-2px);\n  box-shadow: 0 6px 16px rgba(41, 98, 255, 0.4);\n}\n\n/* Update Notification */\n.update-notification {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  background-color: var(--background-white);\n  border-radius: var(--border-radius);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  padding: 16px;\n  z-index: 1000;\n  animation: slideInRight 0.3s ease;\n}\n\n.update-content {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.update-content i {\n  color: var(--primary-color);\n  font-size: 20px;\n}\n\n.update-button {\n  background-color: var(--primary-color);\n  color: white;\n  border: none;\n  padding: 6px 12px;\n  border-radius: var(--border-radius);\n  font-size: 12px;\n  cursor: pointer;\n  transition: background-color var(--transition-speed);\n}\n\n.update-button:hover {\n  background-color: var(--primary-dark);\n}\n\n.dismiss-button {\n  background: none;\n  border: none;\n  color: var(--text-light);\n  padding: 6px 12px;\n  border-radius: var(--border-radius);\n  font-size: 12px;\n  cursor: pointer;\n  transition: color var(--transition-speed);\n}\n\n.dismiss-button:hover {\n  color: var(--text-dark);\n}\n\n@keyframes slideInRight {\n  from {\n    transform: translateX(100%);\n    opacity: 0;\n  }\n  to {\n    transform: translateX(0);\n    opacity: 1;\n  }\n}\n\n/* User menu */\n.user-menu {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.user-name {\n  display: inline-block;\n  font-size: 14px;\n  color: var(--text-dark);\n  margin-bottom: 0;\n}\n\n.user-name i {\n  margin-right: 8px;\n  color: var(--primary-color);\n}\n\n.logout-button {\n  background-color: var(--error-color);\n  color: white;\n  border: none;\n  padding: 6px 12px;\n  border-radius: var(--border-radius);\n  font-size: 14px;\n  cursor: pointer;\n  transition: background-color var(--transition-speed);\n}\n\n.logout-button:hover {\n  background-color: #b71c1c;\n}\n\n.logout-button i {\n  margin-right: 8px;\n}\n\n/* Hero Section */\n.hero {\n  background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),\n    url("https://th.bing.com/th/id/OIP.NxLZUtJxFfsXaJEwD1iKzwHaEK?rs=1&pid=ImgDetMain");\n  background-size: cover;\n  background-position: center;\n  color: white;\n  text-align: center;\n  padding: 100px 20px;\n  margin-bottom: 0;\n  position: relative;\n}\n\n.hero::before {\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, var(--primary-dark) 0%, transparent 50%);\n  opacity: 0.6;\n  z-index: 1;\n}\n\n.hero-content {\n  max-width: 800px;\n  margin: 0 auto;\n  position: relative;\n  z-index: 2;\n}\n\n.hero h2 {\n  font-size: 48px;\n  margin-bottom: 16px;\n  font-weight: 700;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);\n}\n\n.hero p {\n  font-size: 18px;\n  margin-bottom: 32px;\n  opacity: 0.9;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\n}\n\n.hero-button {\n  display: inline-block;\n  background-color: var(--secondary-color);\n  color: white;\n  padding: 12px 24px;\n  border-radius: var(--border-radius);\n  text-decoration: none;\n  font-weight: 600;\n  transition: background-color var(--transition-speed), transform var(--transition-speed);\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.hero-button:hover {\n  background-color: var(--secondary-dark);\n  transform: translateY(-2px);\n  box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);\n}\n\n.hero-button i {\n  margin-right: 8px;\n}\n\n/* Page Content Wrapper */\n.page-content {\n  width: 100%;\n  will-change: transform, opacity;\n}\n\n.content {\n  margin: 0 auto;\n  min-height: 100%;\n  max-width: 1200px;\n}\n\n.content__heading {\n  font-weight: 600;\n  font-size: 28px;\n  margin-bottom: 24px;\n  color: var(--primary-color);\n  border-bottom: 2px solid var(--primary-light);\n  padding-bottom: 8px;\n}\n\n.content__heading i {\n  margin-right: 8px;\n}\n\n/* Form Section Headings */\n.form-section-heading {\n  font-weight: 600;\n  font-size: 20px;\n  margin-bottom: 16px;\n  color: var(--primary-color);\n  border-bottom: 1px solid var(--primary-light);\n  padding-bottom: 4px;\n}\n\n.map-section-heading {\n  font-weight: 600;\n  font-size: 18px;\n  margin-bottom: 12px;\n  color: var(--primary-color);\n}\n\n/* Sections */\n.stories-section,\n.favorites-section {\n  padding: 32px;\n  background-color: var(--background-light);\n}\n\n.map-section {\n  padding: 32px;\n  background-color: var(--background-light);\n  margin-top: 0;\n}\n\n.story-detail-section,\n.add-story-section,\n.detail-map-section,\n.form-section {\n  margin-bottom: 32px;\n  padding: 32px;\n}\n\n/* Map Controls */\n.map-controls {\n  display: flex;\n  gap: 12px;\n  margin-bottom: 12px;\n}\n\n.location-button {\n  background-color: var(--primary-color);\n  color: white;\n  border: none;\n  padding: 10px 16px;\n  border-radius: var(--border-radius);\n  font-size: 14px;\n  cursor: pointer;\n  transition: background-color var(--transition-speed);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.location-button:hover {\n  background-color: var(--primary-dark);\n}\n\n.location-button i {\n  margin-right: 8px;\n}\n\n/* Loading */\n.loading {\n  text-align: center;\n  padding: 32px;\n  color: var(--text-light);\n}\n\n.loading i {\n  font-size: 32px;\n  color: var(--primary-color);\n  margin-bottom: 16px;\n}\n\n/* Empty State */\n.empty-state {\n  text-align: center;\n  padding: 48px 0;\n  background-color: var(--background-white);\n  border-radius: var(--border-radius);\n  box-shadow: var(--shadow-light);\n}\n\n.empty-state i {\n  font-size: 48px;\n  color: var(--text-light);\n  margin-bottom: 16px;\n}\n\n.empty-state p {\n  font-size: 18px;\n  color: var(--text-light);\n  margin-bottom: 24px;\n}\n\n/* Empty Favorites */\n.empty-favorites {\n  text-align: center;\n  padding: 48px 0;\n  background-color: var(--background-white);\n  border-radius: var(--border-radius);\n  box-shadow: var(--shadow-light);\n  margin: 20px 0;\n}\n\n.empty-favorites .empty-icon {\n  font-size: 64px;\n  color: var(--favorite-color);\n  margin-bottom: 16px;\n  opacity: 0.5;\n}\n\n.empty-favorites h3 {\n  font-size: 24px;\n  color: var(--text-dark);\n  margin-bottom: 8px;\n}\n\n.empty-favorites p {\n  font-size: 16px;\n  color: var(--text-light);\n  margin-bottom: 24px;\n}\n\n/* Favorites Actions */\n.favorites-actions {\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 20px;\n}\n\n.button.danger {\n  background-color: var(--error-color);\n}\n\n.button.danger:hover {\n  background-color: #b71c1c;\n}\n\n/* Stories */\n.stories {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  gap: 20px;\n  margin: 0;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.story-item {\n  width: 100%;\n  border-radius: var(--border-radius);\n  overflow: hidden;\n  box-shadow: var(--shadow-medium);\n  background-color: var(--background-white);\n  transition: transform var(--transition-speed);\n  display: flex;\n  flex-direction: column;\n}\n\n.story-item:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\n}\n\n.story-item__header {\n  position: relative;\n  height: 200px;\n  overflow: hidden;\n}\n\n.story-item__header__poster {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.story-item__header__info {\n  padding: 12px 16px;\n  background-color: rgba(0, 0, 0, 0.8);\n  color: white;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  backdrop-filter: blur(5px);\n}\n\n.story-item__title {\n  font-size: 16px;\n  margin-bottom: 4px;\n  font-weight: 600;\n  line-height: 1.2;\n}\n\n.story-item__title__link {\n  color: white;\n  text-decoration: none;\n  transition: color var(--transition-speed);\n}\n\n.story-item__title__link:hover {\n  color: var(--secondary-light);\n}\n\n.story-item__date {\n  font-size: 11px;\n  opacity: 0.9;\n  display: flex;\n  align-items: center;\n}\n\n.story-item__date i {\n  margin-right: 4px;\n}\n\n.story-item__content {\n  padding: 16px;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.story-item__description {\n  font-size: 14px;\n  line-height: 1.5;\n  color: var(--text-dark);\n  flex: 1;\n  margin-bottom: 12px;\n}\n\n.story-item__footer {\n  margin-top: auto;\n}\n\n.story-item__actions {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 8px;\n}\n\n.story-item__read-more {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: 8px 16px;\n  background-color: var(--primary-color);\n  color: white;\n  text-decoration: none;\n  border-radius: var(--border-radius);\n  font-size: 13px;\n  font-weight: 500;\n  transition: background-color var(--transition-speed);\n  flex: 1;\n}\n\n.story-item__read-more:hover {\n  background-color: var(--primary-dark);\n}\n\n.story-item__read-more i {\n  margin-right: 6px;\n}\n\n/* Favorite Button */\n.favorite-button {\n  background: none;\n  border: 2px solid var(--favorite-color);\n  color: var(--favorite-color);\n  padding: 8px 12px;\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  transition: all var(--transition-speed);\n  font-size: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 44px;\n  height: 44px;\n}\n\n.favorite-button:hover {\n  background-color: var(--favorite-color);\n  color: white;\n  transform: scale(1.05);\n}\n\n.favorite-button.active {\n  background-color: var(--favorite-color);\n  color: white;\n}\n\n.favorite-button.active:hover {\n  background-color: var(--favorite-dark);\n}\n\n.favorite-button.detail-favorite {\n  padding: 10px 20px;\n  font-size: 14px;\n  font-weight: 500;\n  min-width: auto;\n  height: auto;\n  gap: 8px;\n}\n\n.favorite-button.detail-favorite i {\n  margin-right: 8px;\n}\n\n/* Story Detail */\n.story-detail {\n  margin: 0 auto;\n  max-width: 800px;\n  background-color: var(--background-white);\n  padding: 32px;\n  border-radius: var(--border-radius);\n  box-shadow: var(--shadow-medium);\n}\n\n.story-detail__title {\n  font-size: 28px;\n  margin-bottom: 8px;\n  color: var(--primary-color);\n  font-weight: 600;\n}\n\n.story-detail__meta {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n  flex-wrap: wrap;\n  gap: 16px;\n}\n\n.story-detail__date {\n  font-size: 14px;\n  color: var(--text-light);\n}\n\n.story-detail__date i {\n  margin-right: 4px;\n}\n\n.story-detail__image {\n  width: 100%;\n  margin-bottom: 24px;\n  border-radius: var(--border-radius);\n  overflow: hidden;\n  box-shadow: var(--shadow-light);\n}\n\n.story-detail__image img {\n  width: 100%;\n  border-radius: var(--border-radius);\n  object-fit: cover;\n}\n\n.story-detail__content {\n  margin-bottom: 24px;\n}\n\n.story-detail__description {\n  font-size: 16px;\n  line-height: 1.8;\n  color: var(--text-dark);\n}\n\n.story-detail__location {\n  margin-bottom: 24px;\n  padding: 16px;\n  background-color: rgba(41, 98, 255, 0.1);\n  border-radius: var(--border-radius);\n  border-left: 4px solid var(--primary-color);\n}\n\n.story-detail__location p {\n  color: var(--text-dark);\n}\n\n.story-detail__location i,\n.story-detail__no-location i {\n  color: var(--primary-color);\n  margin-right: 8px;\n}\n\n.story-detail__no-location {\n  color: var(--text-light);\n  margin-bottom: 24px;\n}\n\n.story-detail__back {\n  margin-top: 24px;\n  padding-top: 16px;\n  border-top: 1px solid rgba(0, 0, 0, 0.05);\n}\n\n.story-detail__back a {\n  color: var(--primary-color);\n  text-decoration: none;\n  font-weight: 500;\n  transition: color var(--transition-speed);\n}\n\n.story-detail__back a:hover {\n  color: var(--primary-dark);\n}\n\n.story-detail__back a i {\n  margin-right: 8px;\n}\n\n/* Error Container */\n.error-container {\n  margin: 0 auto;\n  max-width: 600px;\n  background-color: var(--background-white);\n  padding: 32px;\n  border-radius: var(--border-radius);\n  box-shadow: var(--shadow-medium);\n  text-align: center;\n}\n\n.error-icon {\n  font-size: 48px;\n  margin-bottom: 16px;\n  color: var(--error-color);\n}\n\n.error-container h3 {\n  font-size: 24px;\n  color: var(--error-color);\n  margin-bottom: 16px;\n  font-weight: 600;\n}\n\n.error-container p {\n  font-size: 16px;\n  color: var(--text-dark);\n  margin-bottom: 16px;\n  line-height: 1.5;\n}\n\n.error-details {\n  font-size: 14px;\n  color: var(--text-light);\n  margin-bottom: 24px;\n  padding: 8px;\n  background-color: rgba(0, 0, 0, 0.05);\n  border-radius: var(--border-radius);\n}\n\n.back-button {\n  display: inline-block;\n  margin-top: 16px;\n  background-color: var(--primary-color);\n  color: white;\n  padding: 10px 20px;\n  border-radius: var(--border-radius);\n  text-decoration: none;\n  transition: background-color var(--transition-speed);\n}\n\n.back-button:hover {\n  background-color: var(--primary-dark);\n}\n\n.back-button i {\n  margin-right: 8px;\n}\n\n/* Map */\n.map {\n  height: 400px;\n  margin: 0;\n  border-radius: var(--border-radius);\n  overflow: hidden;\n  box-shadow: var(--shadow-medium);\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.map-placeholder {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: #e0e0e0;\n  color: var(--text-light);\n  font-size: 16px;\n}\n\n.map-placeholder i {\n  font-size: 32px;\n  margin-bottom: 16px;\n  color: var(--primary-color);\n}\n\n/* Authentication Pages */\n.auth-section {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 40px 20px;\n}\n\n.auth-container {\n  width: 100%;\n  max-width: 500px;\n  background-color: var(--background-white);\n  border-radius: var(--border-radius);\n  box-shadow: var(--shadow-medium);\n  padding: 32px;\n}\n\n.auth-header {\n  text-align: center;\n  margin-bottom: 32px;\n}\n\n.auth-icon {\n  font-size: 48px;\n  color: var(--primary-color);\n  margin-bottom: 16px;\n}\n\n.auth-header h2 {\n  font-size: 24px;\n  color: var(--text-dark);\n  margin-bottom: 8px;\n  font-weight: 600;\n}\n\n.auth-header p {\n  color: var(--text-light);\n}\n\n.auth-form .form-group {\n  margin-bottom: 24px;\n}\n\n.auth-form label {\n  display: block;\n  margin-bottom: 8px;\n  font-weight: 500;\n  color: var(--text-dark);\n}\n\n.auth-form label i {\n  color: var(--primary-color);\n  margin-right: 8px;\n}\n\n.auth-form input {\n  width: 100%;\n  padding: 12px 16px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: var(--border-radius);\n  font-size: 16px;\n  transition: border-color var(--transition-speed);\n}\n\n.auth-form input:focus {\n  outline: none;\n  border-color: var(--primary-color);\n}\n\n.password-input-container {\n  position: relative;\n}\n\n.toggle-password {\n  position: absolute;\n  right: 12px;\n  top: 50%;\n  transform: translateY(-50%);\n  background: none;\n  border: none;\n  color: var(--text-light);\n  cursor: pointer;\n}\n\n.auth-form small {\n  display: block;\n  margin-top: 8px;\n  color: var(--text-light);\n  font-size: 12px;\n}\n\n.auth-button {\n  width: 100%;\n  padding: 12px;\n  background-color: var(--primary-color);\n  color: white;\n  border: none;\n  border-radius: var(--border-radius);\n  font-size: 16px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: background-color var(--transition-speed);\n}\n\n.auth-button:hover {\n  background-color: var(--primary-dark);\n}\n\n.auth-button i {\n  margin-right: 8px;\n}\n\n/* Form Footer */\n.form-footer {\n  margin-top: 24px;\n  text-align: center;\n  color: var(--text-light);\n  background: none;\n  border: none;\n  padding: 0;\n  box-shadow: none;\n}\n\n.form-footer p {\n  margin: 0;\n  padding: 0;\n  background: none;\n  border: none;\n  box-shadow: none;\n}\n\n.form-footer a {\n  color: var(--primary-color);\n  text-decoration: none;\n  font-weight: 500;\n  background: none;\n  border: none;\n  padding: 0;\n  box-shadow: none;\n  transition: color var(--transition-speed);\n}\n\n.form-footer a:hover {\n  color: var(--primary-dark);\n  text-decoration: underline;\n}\n\n/* Form */\n.form-container {\n  max-width: 800px;\n  margin: 0 auto;\n  background-color: var(--background-white);\n  padding: 32px;\n  border-radius: var(--border-radius);\n  box-shadow: var(--shadow-medium);\n}\n\n.form-group {\n  margin-bottom: 24px;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 8px;\n  font-weight: 500;\n  color: var(--text-dark);\n}\n\n.form-group label i {\n  color: var(--primary-color);\n  margin-right: 8px;\n}\n\n.form-group input,\n.form-group textarea {\n  width: 100%;\n  padding: 12px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: var(--border-radius);\n  font-size: 16px;\n  font-family: "Poppins", sans-serif;\n  transition: border-color var(--transition-speed);\n}\n\n.form-group input:focus,\n.form-group textarea:focus {\n  outline: none;\n  border-color: var(--primary-color);\n}\n\n.form-group textarea {\n  resize: vertical;\n  min-height: 120px;\n}\n\n.form-group small {\n  display: block;\n  margin-top: 4px;\n  color: var(--text-light);\n  font-size: 12px;\n}\n\n.button {\n  padding: 12px 24px;\n  background-color: var(--primary-color);\n  color: white;\n  border: none;\n  border-radius: var(--border-radius);\n  font-size: 16px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: background-color var(--transition-speed);\n}\n\n.button:hover {\n  background-color: var(--primary-dark);\n}\n\n.button:disabled {\n  background-color: #bdbdbd;\n  cursor: not-allowed;\n}\n\n.button i {\n  margin-right: 8px;\n}\n\n.submit-button {\n  background-color: var(--secondary-color);\n  color: white;\n  border: none;\n  padding: 12px 24px;\n  border-radius: var(--border-radius);\n  font-size: 16px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: background-color var(--transition-speed);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n}\n\n.submit-button:hover {\n  background-color: var(--secondary-dark);\n}\n\n.submit-button i {\n  margin-right: 8px;\n}\n\n.camera-button {\n  flex: 1;\n}\n\n/* Camera */\n.camera-container {\n  width: 100%;\n  height: 300px;\n  background-color: #f0f0f0;\n  margin-bottom: 16px;\n  border-radius: var(--border-radius);\n  overflow: hidden;\n  position: relative;\n  border: 2px dashed #ccc;\n}\n\n.camera-preview,\n.captured-photo {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.camera-placeholder {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: var(--text-light);\n}\n\n.camera-placeholder i {\n  font-size: 48px;\n  margin-bottom: 16px;\n  color: var(--primary-color);\n}\n\n.camera-controls {\n  display: flex;\n  gap: 12px;\n  margin-bottom: 16px;\n}\n\n/* Location Map */\n.location-map {\n  height: 300px;\n  margin-bottom: 16px;\n  border-radius: var(--border-radius);\n  overflow: hidden;\n}\n\n.selected-location {\n  font-size: 14px;\n  color: var(--text-light);\n  margin-bottom: 8px;\n  padding: 8px;\n  background-color: rgba(41, 98, 255, 0.1);\n  border-radius: var(--border-radius);\n}\n\n.selected-location i {\n  color: var(--primary-color);\n  margin-right: 8px;\n}\n\n/* Notification */\n.notification {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  padding: 16px;\n  border-radius: var(--border-radius);\n  background-color: white;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  display: flex;\n  align-items: center;\n  max-width: 350px;\n  transform: translateY(100px);\n  opacity: 0;\n  transition: transform 0.3s ease, opacity 0.3s ease;\n  z-index: 1000;\n}\n\n.notification.show {\n  transform: translateY(0);\n  opacity: 1;\n}\n\n.notification.success {\n  border-left: 4px solid var(--success-color);\n}\n\n.notification.error {\n  border-left: 4px solid var(--error-color);\n}\n\n.notification i {\n  font-size: 24px;\n  margin-right: 12px;\n}\n\n.notification.success i {\n  color: var(--success-color);\n}\n\n.notification.error i {\n  color: var(--error-color);\n}\n\n.notification p {\n  color: var(--text-dark);\n  font-size: 14px;\n  flex: 1;\n}\n\n/* Error */\n.error {\n  color: var(--error-color);\n  background-color: rgba(211, 47, 47, 0.1);\n  padding: 16px;\n  border-radius: var(--border-radius);\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n}\n\n.error i {\n  font-size: 24px;\n  margin-right: 12px;\n}\n\n/* Footer */\n.app-footer {\n  background-color: var(--primary-dark);\n  color: white;\n  padding: 20px;\n  text-align: center;\n  margin-top: auto;\n}\n\n.footer-content {\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.footer-logo {\n  font-size: 24px;\n  font-weight: 600;\n  margin-bottom: 16px;\n}\n\n.footer-content p {\n  margin-bottom: 24px;\n  opacity: 0.8;\n}\n\n.social-icons {\n  margin-bottom: 24px;\n}\n\n.social-icons a {\n  color: white;\n  font-size: 24px;\n  margin: 0 12px;\n  transition: opacity var(--transition-speed);\n}\n\n.social-icons a:hover {\n  opacity: 0.8;\n}\n\n.copyright {\n  font-size: 14px;\n  opacity: 0.6;\n}\n\n/* Photo Options */\n.photo-options {\n  display: flex;\n  gap: 12px;\n  margin-bottom: 16px;\n}\n\n.photo-option {\n  flex: 1;\n}\n\n.file-input {\n  width: 0.1px;\n  height: 0.1px;\n  opacity: 0;\n  overflow: hidden;\n  position: absolute;\n  z-index: -1;\n}\n\n.file-input-label {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 12px;\n  background-color: var(--primary-color);\n  color: white !important;\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  font-weight: 500;\n  transition: background-color var(--transition-speed);\n  text-align: center;\n}\n\n.file-input-label:hover {\n  background-color: var(--primary-dark);\n}\n\n.file-input-label i {\n  color: white !important;\n  margin-right: 8px;\n}\n\n/* Notification Settings Styles */\n.notification-settings-section {\n  padding: 32px;\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.settings-container {\n  background-color: var(--background-white);\n  border-radius: var(--border-radius);\n  box-shadow: var(--shadow-medium);\n  padding: 32px;\n}\n\n.control-group {\n  margin-bottom: 32px;\n  padding-bottom: 24px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n}\n\n.control-group:last-child {\n  border-bottom: none;\n  margin-bottom: 0;\n}\n\n.control-heading {\n  font-size: 20px;\n  color: var(--primary-color);\n  margin-bottom: 8px;\n  font-weight: 600;\n}\n\n.control-heading i {\n  margin-right: 8px;\n}\n\n.control-description {\n  color: var(--text-light);\n  margin-bottom: 16px;\n  line-height: 1.5;\n}\n\n.control-actions {\n  display: flex;\n  gap: 12px;\n  flex-wrap: wrap;\n}\n\n.notification-button {\n  padding: 10px 20px;\n  border-radius: var(--border-radius);\n  border: none;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all var(--transition-speed);\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.notification-button i {\n  margin-right: 8px;\n}\n\n.notification-button:not(.secondary):not(.danger) {\n  background-color: var(--primary-color);\n  color: white;\n}\n\n.notification-button:not(.secondary):not(.danger):hover {\n  background-color: var(--primary-dark);\n}\n\n.notification-button.secondary {\n  background-color: var(--secondary-color);\n  color: white;\n}\n\n.notification-button.secondary:hover {\n  background-color: var(--secondary-dark);\n}\n\n.notification-button.danger {\n  background-color: var(--error-color);\n  color: white;\n}\n\n.notification-button.danger:hover {\n  background-color: #b71c1c;\n}\n\n.notification-button:disabled {\n  background-color: #bdbdbd;\n  cursor: not-allowed;\n}\n\n.info-content ul {\n  list-style: none;\n  padding: 0;\n  margin: 16px 0;\n}\n\n.info-content ul li {\n  padding: 8px 0;\n  color: var(--text-dark);\n  display: flex;\n  align-items: center;\n}\n\n.info-content ul li i {\n  color: var(--primary-color);\n  margin-right: 12px;\n  width: 20px;\n  text-align: center;\n}\n\n.browser-support {\n  margin-top: 24px;\n  padding: 16px;\n  background-color: rgba(41, 98, 255, 0.05);\n  border-radius: var(--border-radius);\n  border-left: 4px solid var(--primary-color);\n}\n\n.browser-support h4 {\n  color: var(--primary-color);\n  margin-bottom: 8px;\n  font-weight: 600;\n}\n\n.browser-support h4 i {\n  margin-right: 8px;\n}\n\n.support-status {\n  display: flex;\n  align-items: center;\n  font-weight: 500;\n}\n\n.support-status i {\n  margin-right: 8px;\n}\n\n.support-granted {\n  color: var(--success-color);\n}\n\n.support-denied {\n  color: var(--error-color);\n}\n\n.support-default {\n  color: var(--secondary-color);\n}\n\n.support-unsupported {\n  color: var(--text-light);\n}\n\n.back-navigation {\n  margin-top: 32px;\n  padding-top: 24px;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n}\n\n.back-link {\n  color: var(--primary-color);\n  text-decoration: none;\n  font-weight: 500;\n  transition: color var(--transition-speed);\n  display: inline-flex;\n  align-items: center;\n}\n\n.back-link:hover {\n  color: var(--primary-dark);\n}\n\n.back-link i {\n  margin-right: 8px;\n}\n\n/* View Transitions */\n@view-transition {\n  navigation: auto;\n}\n\n::view-transition-old(root),\n::view-transition-new(root) {\n  animation-duration: 400ms;\n  animation-timing-function: cubic-bezier(0.25, 1, 0.5, 1);\n}\n\n::view-transition-old(root) {\n  animation-name: fade-out;\n}\n\n::view-transition-new(root) {\n  animation-name: fade-in;\n}\n\n@keyframes fade-in {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes fade-out {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n/* Reduced motion preferences */\n@media (prefers-reduced-motion: reduce) {\n  ::view-transition-old(root),\n  ::view-transition-new(root) {\n    animation-duration: 0.1s;\n    animation-timing-function: ease;\n  }\n}\n',"",{version:3,sources:["webpack://./src/styles/main.css"],names:[],mappings:"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",sourcesContent:['@import url("./not-found.css");\r\n\r\n:root {\r\n  --primary-color: #2962ff;\r\n  --primary-dark: #0039cb;\r\n  --primary-light: #768fff;\r\n  --secondary-color: #ff6d00;\r\n  --secondary-dark: #c43c00;\r\n  --secondary-light: #ff9e40;\r\n  --text-dark: #333333;\r\n  --text-light: #757575;\r\n  --background-light: #f5f5f5;\r\n  --background-white: #ffffff;\r\n  --error-color: #d32f2f;\r\n  --success-color: #388e3c;\r\n  --favorite-color: #e91e63;\r\n  --favorite-dark: #c2185b;\r\n  --shadow-light: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  --shadow-medium: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n  --border-radius: 8px;\r\n  --transition-speed: 0.3s;\r\n\r\n  /* Animation durations */\r\n  --animation-short: 300ms;\r\n  --animation-medium: 400ms;\r\n  --animation-long: 600ms;\r\n}\r\n\r\n* {\r\n  padding: 0;\r\n  margin: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  font-family: "Poppins", sans-serif;\r\n  background-color: var(--background-light);\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  color: var(--text-dark);\r\n}\r\n\r\n/* Application Shell Styles */\r\n.app-shell {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.app-shell-loaded {\r\n  opacity: 1;\r\n  transition: opacity 0.3s ease;\r\n}\r\n\r\n/* Content Loader */\r\n.content-loader {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 60px 20px;\r\n  color: var(--text-light);\r\n}\r\n\r\n.loader-spinner {\r\n  font-size: 48px;\r\n  color: var(--primary-color);\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.loader-spinner i {\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n/* Main Content */\r\n.main-content {\r\n  flex: 1;\r\n  position: relative;\r\n  overflow-x: hidden;\r\n}\r\n\r\n/* Skip to content link for accessibility */\r\n.skip-link {\r\n  position: absolute;\r\n  top: -40px;\r\n  left: 0;\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  padding: 8px;\r\n  z-index: 100;\r\n  text-decoration: none;\r\n}\r\n\r\n.skip-link:focus {\r\n  top: 0;\r\n}\r\n\r\n/* App Bar */\r\n.app-bar {\r\n  padding: 12px 24px;\r\n  background-color: var(--background-white);\r\n  display: grid;\r\n  grid-template-columns: auto 1fr auto;\r\n  gap: 16px;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 99;\r\n  box-shadow: var(--shadow-light);\r\n}\r\n\r\n.app-bar .app-bar__menu {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.app-bar .app-bar__menu button {\r\n  background-color: transparent;\r\n  border: none;\r\n  font-size: 24px;\r\n  padding: 8px;\r\n  cursor: pointer;\r\n  color: var(--primary-color);\r\n}\r\n\r\n.app-bar .app-bar__brand {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.app-bar .app-bar__brand h1 {\r\n  color: var(--primary-color);\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n  user-select: none;\r\n}\r\n\r\n.app-bar .app-bar__brand h1 i {\r\n  margin-right: 8px;\r\n}\r\n\r\n.app-bar .app-bar__navigation {\r\n  position: absolute;\r\n  top: 60px;\r\n  left: -250px;\r\n  width: 250px;\r\n  transition: all var(--transition-speed);\r\n  padding: 16px;\r\n  background-color: var(--background-white);\r\n  overflow: hidden;\r\n  box-shadow: var(--shadow-medium);\r\n  border-radius: 0 0 var(--border-radius) 0;\r\n}\r\n\r\n.app-bar .app-bar__navigation.open {\r\n  left: 0;\r\n}\r\n\r\n.app-bar .app-bar__navigation ul li {\r\n  display: list-item;\r\n  padding: 12px 8px;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.app-bar .app-bar__navigation ul li a {\r\n  text-decoration: none;\r\n  color: var(--primary-color);\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  transition: color var(--transition-speed);\r\n}\r\n\r\n.app-bar .app-bar__navigation ul li a:hover,\r\n.app-bar .app-bar__navigation ul li a.active {\r\n  color: var(--primary-dark);\r\n}\r\n\r\n.app-bar .app-bar__navigation ul li a i {\r\n  margin-right: 8px;\r\n  width: 20px;\r\n  text-align: center;\r\n}\r\n\r\n/* Offline Indicator */\r\n.offline-indicator {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: var(--error-color);\r\n  color: white;\r\n  padding: 8px 16px;\r\n  font-size: 14px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8px;\r\n  z-index: 98;\r\n}\r\n\r\n/* Connection Status */\r\n.connection-status {\r\n  position: fixed;\r\n  bottom: 20px;\r\n  left: 20px;\r\n  padding: 12px 16px;\r\n  border-radius: var(--border-radius);\r\n  color: white;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  z-index: 1000;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  box-shadow: var(--shadow-medium);\r\n  animation: slideInLeft 0.3s ease;\r\n}\r\n\r\n.connection-status.online {\r\n  background-color: var(--success-color);\r\n}\r\n\r\n.connection-status.offline {\r\n  background-color: var(--error-color);\r\n}\r\n\r\n@keyframes slideInLeft {\r\n  from {\r\n    transform: translateX(-100%);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateX(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/* Install Button */\r\n.install-button {\r\n  position: fixed;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  border: none;\r\n  padding: 12px 20px;\r\n  border-radius: 50px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  box-shadow: 0 4px 12px rgba(41, 98, 255, 0.3);\r\n  transition: all var(--transition-speed);\r\n  z-index: 1000;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.install-button:hover {\r\n  background-color: var(--primary-dark);\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 6px 16px rgba(41, 98, 255, 0.4);\r\n}\r\n\r\n/* Update Notification */\r\n.update-notification {\r\n  position: fixed;\r\n  top: 20px;\r\n  right: 20px;\r\n  background-color: var(--background-white);\r\n  border-radius: var(--border-radius);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n  padding: 16px;\r\n  z-index: 1000;\r\n  animation: slideInRight 0.3s ease;\r\n}\r\n\r\n.update-content {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.update-content i {\r\n  color: var(--primary-color);\r\n  font-size: 20px;\r\n}\r\n\r\n.update-button {\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  border: none;\r\n  padding: 6px 12px;\r\n  border-radius: var(--border-radius);\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  transition: background-color var(--transition-speed);\r\n}\r\n\r\n.update-button:hover {\r\n  background-color: var(--primary-dark);\r\n}\r\n\r\n.dismiss-button {\r\n  background: none;\r\n  border: none;\r\n  color: var(--text-light);\r\n  padding: 6px 12px;\r\n  border-radius: var(--border-radius);\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  transition: color var(--transition-speed);\r\n}\r\n\r\n.dismiss-button:hover {\r\n  color: var(--text-dark);\r\n}\r\n\r\n@keyframes slideInRight {\r\n  from {\r\n    transform: translateX(100%);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateX(0);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/* User menu */\r\n.user-menu {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.user-name {\r\n  display: inline-block;\r\n  font-size: 14px;\r\n  color: var(--text-dark);\r\n  margin-bottom: 0;\r\n}\r\n\r\n.user-name i {\r\n  margin-right: 8px;\r\n  color: var(--primary-color);\r\n}\r\n\r\n.logout-button {\r\n  background-color: var(--error-color);\r\n  color: white;\r\n  border: none;\r\n  padding: 6px 12px;\r\n  border-radius: var(--border-radius);\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  transition: background-color var(--transition-speed);\r\n}\r\n\r\n.logout-button:hover {\r\n  background-color: #b71c1c;\r\n}\r\n\r\n.logout-button i {\r\n  margin-right: 8px;\r\n}\r\n\r\n/* Hero Section */\r\n.hero {\r\n  background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),\r\n    url("https://th.bing.com/th/id/OIP.NxLZUtJxFfsXaJEwD1iKzwHaEK?rs=1&pid=ImgDetMain");\r\n  background-size: cover;\r\n  background-position: center;\r\n  color: white;\r\n  text-align: center;\r\n  padding: 100px 20px;\r\n  margin-bottom: 0;\r\n  position: relative;\r\n}\r\n\r\n.hero::before {\r\n  content: "";\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: linear-gradient(135deg, var(--primary-dark) 0%, transparent 50%);\r\n  opacity: 0.6;\r\n  z-index: 1;\r\n}\r\n\r\n.hero-content {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n\r\n.hero h2 {\r\n  font-size: 48px;\r\n  margin-bottom: 16px;\r\n  font-weight: 700;\r\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.hero p {\r\n  font-size: 18px;\r\n  margin-bottom: 32px;\r\n  opacity: 0.9;\r\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.hero-button {\r\n  display: inline-block;\r\n  background-color: var(--secondary-color);\r\n  color: white;\r\n  padding: 12px 24px;\r\n  border-radius: var(--border-radius);\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n  transition: background-color var(--transition-speed), transform var(--transition-speed);\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.hero-button:hover {\r\n  background-color: var(--secondary-dark);\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.hero-button i {\r\n  margin-right: 8px;\r\n}\r\n\r\n/* Page Content Wrapper */\r\n.page-content {\r\n  width: 100%;\r\n  will-change: transform, opacity;\r\n}\r\n\r\n.content {\r\n  margin: 0 auto;\r\n  min-height: 100%;\r\n  max-width: 1200px;\r\n}\r\n\r\n.content__heading {\r\n  font-weight: 600;\r\n  font-size: 28px;\r\n  margin-bottom: 24px;\r\n  color: var(--primary-color);\r\n  border-bottom: 2px solid var(--primary-light);\r\n  padding-bottom: 8px;\r\n}\r\n\r\n.content__heading i {\r\n  margin-right: 8px;\r\n}\r\n\r\n/* Form Section Headings */\r\n.form-section-heading {\r\n  font-weight: 600;\r\n  font-size: 20px;\r\n  margin-bottom: 16px;\r\n  color: var(--primary-color);\r\n  border-bottom: 1px solid var(--primary-light);\r\n  padding-bottom: 4px;\r\n}\r\n\r\n.map-section-heading {\r\n  font-weight: 600;\r\n  font-size: 18px;\r\n  margin-bottom: 12px;\r\n  color: var(--primary-color);\r\n}\r\n\r\n/* Sections */\r\n.stories-section,\r\n.favorites-section {\r\n  padding: 32px;\r\n  background-color: var(--background-light);\r\n}\r\n\r\n.map-section {\r\n  padding: 32px;\r\n  background-color: var(--background-light);\r\n  margin-top: 0;\r\n}\r\n\r\n.story-detail-section,\r\n.add-story-section,\r\n.detail-map-section,\r\n.form-section {\r\n  margin-bottom: 32px;\r\n  padding: 32px;\r\n}\r\n\r\n/* Map Controls */\r\n.map-controls {\r\n  display: flex;\r\n  gap: 12px;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.location-button {\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  border: none;\r\n  padding: 10px 16px;\r\n  border-radius: var(--border-radius);\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  transition: background-color var(--transition-speed);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.location-button:hover {\r\n  background-color: var(--primary-dark);\r\n}\r\n\r\n.location-button i {\r\n  margin-right: 8px;\r\n}\r\n\r\n/* Loading */\r\n.loading {\r\n  text-align: center;\r\n  padding: 32px;\r\n  color: var(--text-light);\r\n}\r\n\r\n.loading i {\r\n  font-size: 32px;\r\n  color: var(--primary-color);\r\n  margin-bottom: 16px;\r\n}\r\n\r\n/* Empty State */\r\n.empty-state {\r\n  text-align: center;\r\n  padding: 48px 0;\r\n  background-color: var(--background-white);\r\n  border-radius: var(--border-radius);\r\n  box-shadow: var(--shadow-light);\r\n}\r\n\r\n.empty-state i {\r\n  font-size: 48px;\r\n  color: var(--text-light);\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.empty-state p {\r\n  font-size: 18px;\r\n  color: var(--text-light);\r\n  margin-bottom: 24px;\r\n}\r\n\r\n/* Empty Favorites */\r\n.empty-favorites {\r\n  text-align: center;\r\n  padding: 48px 0;\r\n  background-color: var(--background-white);\r\n  border-radius: var(--border-radius);\r\n  box-shadow: var(--shadow-light);\r\n  margin: 20px 0;\r\n}\r\n\r\n.empty-favorites .empty-icon {\r\n  font-size: 64px;\r\n  color: var(--favorite-color);\r\n  margin-bottom: 16px;\r\n  opacity: 0.5;\r\n}\r\n\r\n.empty-favorites h3 {\r\n  font-size: 24px;\r\n  color: var(--text-dark);\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.empty-favorites p {\r\n  font-size: 16px;\r\n  color: var(--text-light);\r\n  margin-bottom: 24px;\r\n}\r\n\r\n/* Favorites Actions */\r\n.favorites-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.button.danger {\r\n  background-color: var(--error-color);\r\n}\r\n\r\n.button.danger:hover {\r\n  background-color: #b71c1c;\r\n}\r\n\r\n/* Stories */\r\n.stories {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\r\n  gap: 20px;\r\n  margin: 0;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.story-item {\r\n  width: 100%;\r\n  border-radius: var(--border-radius);\r\n  overflow: hidden;\r\n  box-shadow: var(--shadow-medium);\r\n  background-color: var(--background-white);\r\n  transition: transform var(--transition-speed);\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.story-item:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.story-item__header {\r\n  position: relative;\r\n  height: 200px;\r\n  overflow: hidden;\r\n}\r\n\r\n.story-item__header__poster {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.story-item__header__info {\r\n  padding: 12px 16px;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  color: white;\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  backdrop-filter: blur(5px);\r\n}\r\n\r\n.story-item__title {\r\n  font-size: 16px;\r\n  margin-bottom: 4px;\r\n  font-weight: 600;\r\n  line-height: 1.2;\r\n}\r\n\r\n.story-item__title__link {\r\n  color: white;\r\n  text-decoration: none;\r\n  transition: color var(--transition-speed);\r\n}\r\n\r\n.story-item__title__link:hover {\r\n  color: var(--secondary-light);\r\n}\r\n\r\n.story-item__date {\r\n  font-size: 11px;\r\n  opacity: 0.9;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.story-item__date i {\r\n  margin-right: 4px;\r\n}\r\n\r\n.story-item__content {\r\n  padding: 16px;\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.story-item__description {\r\n  font-size: 14px;\r\n  line-height: 1.5;\r\n  color: var(--text-dark);\r\n  flex: 1;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.story-item__footer {\r\n  margin-top: auto;\r\n}\r\n\r\n.story-item__actions {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: 8px;\r\n}\r\n\r\n.story-item__read-more {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 16px;\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  text-decoration: none;\r\n  border-radius: var(--border-radius);\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  transition: background-color var(--transition-speed);\r\n  flex: 1;\r\n}\r\n\r\n.story-item__read-more:hover {\r\n  background-color: var(--primary-dark);\r\n}\r\n\r\n.story-item__read-more i {\r\n  margin-right: 6px;\r\n}\r\n\r\n/* Favorite Button */\r\n.favorite-button {\r\n  background: none;\r\n  border: 2px solid var(--favorite-color);\r\n  color: var(--favorite-color);\r\n  padding: 8px 12px;\r\n  border-radius: var(--border-radius);\r\n  cursor: pointer;\r\n  transition: all var(--transition-speed);\r\n  font-size: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-width: 44px;\r\n  height: 44px;\r\n}\r\n\r\n.favorite-button:hover {\r\n  background-color: var(--favorite-color);\r\n  color: white;\r\n  transform: scale(1.05);\r\n}\r\n\r\n.favorite-button.active {\r\n  background-color: var(--favorite-color);\r\n  color: white;\r\n}\r\n\r\n.favorite-button.active:hover {\r\n  background-color: var(--favorite-dark);\r\n}\r\n\r\n.favorite-button.detail-favorite {\r\n  padding: 10px 20px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  min-width: auto;\r\n  height: auto;\r\n  gap: 8px;\r\n}\r\n\r\n.favorite-button.detail-favorite i {\r\n  margin-right: 8px;\r\n}\r\n\r\n/* Story Detail */\r\n.story-detail {\r\n  margin: 0 auto;\r\n  max-width: 800px;\r\n  background-color: var(--background-white);\r\n  padding: 32px;\r\n  border-radius: var(--border-radius);\r\n  box-shadow: var(--shadow-medium);\r\n}\r\n\r\n.story-detail__title {\r\n  font-size: 28px;\r\n  margin-bottom: 8px;\r\n  color: var(--primary-color);\r\n  font-weight: 600;\r\n}\r\n\r\n.story-detail__meta {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 24px;\r\n  flex-wrap: wrap;\r\n  gap: 16px;\r\n}\r\n\r\n.story-detail__date {\r\n  font-size: 14px;\r\n  color: var(--text-light);\r\n}\r\n\r\n.story-detail__date i {\r\n  margin-right: 4px;\r\n}\r\n\r\n.story-detail__image {\r\n  width: 100%;\r\n  margin-bottom: 24px;\r\n  border-radius: var(--border-radius);\r\n  overflow: hidden;\r\n  box-shadow: var(--shadow-light);\r\n}\r\n\r\n.story-detail__image img {\r\n  width: 100%;\r\n  border-radius: var(--border-radius);\r\n  object-fit: cover;\r\n}\r\n\r\n.story-detail__content {\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.story-detail__description {\r\n  font-size: 16px;\r\n  line-height: 1.8;\r\n  color: var(--text-dark);\r\n}\r\n\r\n.story-detail__location {\r\n  margin-bottom: 24px;\r\n  padding: 16px;\r\n  background-color: rgba(41, 98, 255, 0.1);\r\n  border-radius: var(--border-radius);\r\n  border-left: 4px solid var(--primary-color);\r\n}\r\n\r\n.story-detail__location p {\r\n  color: var(--text-dark);\r\n}\r\n\r\n.story-detail__location i,\r\n.story-detail__no-location i {\r\n  color: var(--primary-color);\r\n  margin-right: 8px;\r\n}\r\n\r\n.story-detail__no-location {\r\n  color: var(--text-light);\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.story-detail__back {\r\n  margin-top: 24px;\r\n  padding-top: 16px;\r\n  border-top: 1px solid rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.story-detail__back a {\r\n  color: var(--primary-color);\r\n  text-decoration: none;\r\n  font-weight: 500;\r\n  transition: color var(--transition-speed);\r\n}\r\n\r\n.story-detail__back a:hover {\r\n  color: var(--primary-dark);\r\n}\r\n\r\n.story-detail__back a i {\r\n  margin-right: 8px;\r\n}\r\n\r\n/* Error Container */\r\n.error-container {\r\n  margin: 0 auto;\r\n  max-width: 600px;\r\n  background-color: var(--background-white);\r\n  padding: 32px;\r\n  border-radius: var(--border-radius);\r\n  box-shadow: var(--shadow-medium);\r\n  text-align: center;\r\n}\r\n\r\n.error-icon {\r\n  font-size: 48px;\r\n  margin-bottom: 16px;\r\n  color: var(--error-color);\r\n}\r\n\r\n.error-container h3 {\r\n  font-size: 24px;\r\n  color: var(--error-color);\r\n  margin-bottom: 16px;\r\n  font-weight: 600;\r\n}\r\n\r\n.error-container p {\r\n  font-size: 16px;\r\n  color: var(--text-dark);\r\n  margin-bottom: 16px;\r\n  line-height: 1.5;\r\n}\r\n\r\n.error-details {\r\n  font-size: 14px;\r\n  color: var(--text-light);\r\n  margin-bottom: 24px;\r\n  padding: 8px;\r\n  background-color: rgba(0, 0, 0, 0.05);\r\n  border-radius: var(--border-radius);\r\n}\r\n\r\n.back-button {\r\n  display: inline-block;\r\n  margin-top: 16px;\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  padding: 10px 20px;\r\n  border-radius: var(--border-radius);\r\n  text-decoration: none;\r\n  transition: background-color var(--transition-speed);\r\n}\r\n\r\n.back-button:hover {\r\n  background-color: var(--primary-dark);\r\n}\r\n\r\n.back-button i {\r\n  margin-right: 8px;\r\n}\r\n\r\n/* Map */\r\n.map {\r\n  height: 400px;\r\n  margin: 0;\r\n  border-radius: var(--border-radius);\r\n  overflow: hidden;\r\n  box-shadow: var(--shadow-medium);\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.map-placeholder {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #e0e0e0;\r\n  color: var(--text-light);\r\n  font-size: 16px;\r\n}\r\n\r\n.map-placeholder i {\r\n  font-size: 32px;\r\n  margin-bottom: 16px;\r\n  color: var(--primary-color);\r\n}\r\n\r\n/* Authentication Pages */\r\n.auth-section {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 40px 20px;\r\n}\r\n\r\n.auth-container {\r\n  width: 100%;\r\n  max-width: 500px;\r\n  background-color: var(--background-white);\r\n  border-radius: var(--border-radius);\r\n  box-shadow: var(--shadow-medium);\r\n  padding: 32px;\r\n}\r\n\r\n.auth-header {\r\n  text-align: center;\r\n  margin-bottom: 32px;\r\n}\r\n\r\n.auth-icon {\r\n  font-size: 48px;\r\n  color: var(--primary-color);\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.auth-header h2 {\r\n  font-size: 24px;\r\n  color: var(--text-dark);\r\n  margin-bottom: 8px;\r\n  font-weight: 600;\r\n}\r\n\r\n.auth-header p {\r\n  color: var(--text-light);\r\n}\r\n\r\n.auth-form .form-group {\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.auth-form label {\r\n  display: block;\r\n  margin-bottom: 8px;\r\n  font-weight: 500;\r\n  color: var(--text-dark);\r\n}\r\n\r\n.auth-form label i {\r\n  color: var(--primary-color);\r\n  margin-right: 8px;\r\n}\r\n\r\n.auth-form input {\r\n  width: 100%;\r\n  padding: 12px 16px;\r\n  border: 1px solid rgba(0, 0, 0, 0.1);\r\n  border-radius: var(--border-radius);\r\n  font-size: 16px;\r\n  transition: border-color var(--transition-speed);\r\n}\r\n\r\n.auth-form input:focus {\r\n  outline: none;\r\n  border-color: var(--primary-color);\r\n}\r\n\r\n.password-input-container {\r\n  position: relative;\r\n}\r\n\r\n.toggle-password {\r\n  position: absolute;\r\n  right: 12px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  background: none;\r\n  border: none;\r\n  color: var(--text-light);\r\n  cursor: pointer;\r\n}\r\n\r\n.auth-form small {\r\n  display: block;\r\n  margin-top: 8px;\r\n  color: var(--text-light);\r\n  font-size: 12px;\r\n}\r\n\r\n.auth-button {\r\n  width: 100%;\r\n  padding: 12px;\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  border: none;\r\n  border-radius: var(--border-radius);\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: background-color var(--transition-speed);\r\n}\r\n\r\n.auth-button:hover {\r\n  background-color: var(--primary-dark);\r\n}\r\n\r\n.auth-button i {\r\n  margin-right: 8px;\r\n}\r\n\r\n/* Form Footer */\r\n.form-footer {\r\n  margin-top: 24px;\r\n  text-align: center;\r\n  color: var(--text-light);\r\n  background: none;\r\n  border: none;\r\n  padding: 0;\r\n  box-shadow: none;\r\n}\r\n\r\n.form-footer p {\r\n  margin: 0;\r\n  padding: 0;\r\n  background: none;\r\n  border: none;\r\n  box-shadow: none;\r\n}\r\n\r\n.form-footer a {\r\n  color: var(--primary-color);\r\n  text-decoration: none;\r\n  font-weight: 500;\r\n  background: none;\r\n  border: none;\r\n  padding: 0;\r\n  box-shadow: none;\r\n  transition: color var(--transition-speed);\r\n}\r\n\r\n.form-footer a:hover {\r\n  color: var(--primary-dark);\r\n  text-decoration: underline;\r\n}\r\n\r\n/* Form */\r\n.form-container {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  background-color: var(--background-white);\r\n  padding: 32px;\r\n  border-radius: var(--border-radius);\r\n  box-shadow: var(--shadow-medium);\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 8px;\r\n  font-weight: 500;\r\n  color: var(--text-dark);\r\n}\r\n\r\n.form-group label i {\r\n  color: var(--primary-color);\r\n  margin-right: 8px;\r\n}\r\n\r\n.form-group input,\r\n.form-group textarea {\r\n  width: 100%;\r\n  padding: 12px;\r\n  border: 1px solid rgba(0, 0, 0, 0.1);\r\n  border-radius: var(--border-radius);\r\n  font-size: 16px;\r\n  font-family: "Poppins", sans-serif;\r\n  transition: border-color var(--transition-speed);\r\n}\r\n\r\n.form-group input:focus,\r\n.form-group textarea:focus {\r\n  outline: none;\r\n  border-color: var(--primary-color);\r\n}\r\n\r\n.form-group textarea {\r\n  resize: vertical;\r\n  min-height: 120px;\r\n}\r\n\r\n.form-group small {\r\n  display: block;\r\n  margin-top: 4px;\r\n  color: var(--text-light);\r\n  font-size: 12px;\r\n}\r\n\r\n.button {\r\n  padding: 12px 24px;\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  border: none;\r\n  border-radius: var(--border-radius);\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: background-color var(--transition-speed);\r\n}\r\n\r\n.button:hover {\r\n  background-color: var(--primary-dark);\r\n}\r\n\r\n.button:disabled {\r\n  background-color: #bdbdbd;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.button i {\r\n  margin-right: 8px;\r\n}\r\n\r\n.submit-button {\r\n  background-color: var(--secondary-color);\r\n  color: white;\r\n  border: none;\r\n  padding: 12px 24px;\r\n  border-radius: var(--border-radius);\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: background-color var(--transition-speed);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n}\r\n\r\n.submit-button:hover {\r\n  background-color: var(--secondary-dark);\r\n}\r\n\r\n.submit-button i {\r\n  margin-right: 8px;\r\n}\r\n\r\n.camera-button {\r\n  flex: 1;\r\n}\r\n\r\n/* Camera */\r\n.camera-container {\r\n  width: 100%;\r\n  height: 300px;\r\n  background-color: #f0f0f0;\r\n  margin-bottom: 16px;\r\n  border-radius: var(--border-radius);\r\n  overflow: hidden;\r\n  position: relative;\r\n  border: 2px dashed #ccc;\r\n}\r\n\r\n.camera-preview,\r\n.captured-photo {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.camera-placeholder {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: var(--text-light);\r\n}\r\n\r\n.camera-placeholder i {\r\n  font-size: 48px;\r\n  margin-bottom: 16px;\r\n  color: var(--primary-color);\r\n}\r\n\r\n.camera-controls {\r\n  display: flex;\r\n  gap: 12px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n/* Location Map */\r\n.location-map {\r\n  height: 300px;\r\n  margin-bottom: 16px;\r\n  border-radius: var(--border-radius);\r\n  overflow: hidden;\r\n}\r\n\r\n.selected-location {\r\n  font-size: 14px;\r\n  color: var(--text-light);\r\n  margin-bottom: 8px;\r\n  padding: 8px;\r\n  background-color: rgba(41, 98, 255, 0.1);\r\n  border-radius: var(--border-radius);\r\n}\r\n\r\n.selected-location i {\r\n  color: var(--primary-color);\r\n  margin-right: 8px;\r\n}\r\n\r\n/* Notification */\r\n.notification {\r\n  position: fixed;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  padding: 16px;\r\n  border-radius: var(--border-radius);\r\n  background-color: white;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n  display: flex;\r\n  align-items: center;\r\n  max-width: 350px;\r\n  transform: translateY(100px);\r\n  opacity: 0;\r\n  transition: transform 0.3s ease, opacity 0.3s ease;\r\n  z-index: 1000;\r\n}\r\n\r\n.notification.show {\r\n  transform: translateY(0);\r\n  opacity: 1;\r\n}\r\n\r\n.notification.success {\r\n  border-left: 4px solid var(--success-color);\r\n}\r\n\r\n.notification.error {\r\n  border-left: 4px solid var(--error-color);\r\n}\r\n\r\n.notification i {\r\n  font-size: 24px;\r\n  margin-right: 12px;\r\n}\r\n\r\n.notification.success i {\r\n  color: var(--success-color);\r\n}\r\n\r\n.notification.error i {\r\n  color: var(--error-color);\r\n}\r\n\r\n.notification p {\r\n  color: var(--text-dark);\r\n  font-size: 14px;\r\n  flex: 1;\r\n}\r\n\r\n/* Error */\r\n.error {\r\n  color: var(--error-color);\r\n  background-color: rgba(211, 47, 47, 0.1);\r\n  padding: 16px;\r\n  border-radius: var(--border-radius);\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.error i {\r\n  font-size: 24px;\r\n  margin-right: 12px;\r\n}\r\n\r\n/* Footer */\r\n.app-footer {\r\n  background-color: var(--primary-dark);\r\n  color: white;\r\n  padding: 20px;\r\n  text-align: center;\r\n  margin-top: auto;\r\n}\r\n\r\n.footer-content {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.footer-logo {\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.footer-content p {\r\n  margin-bottom: 24px;\r\n  opacity: 0.8;\r\n}\r\n\r\n.social-icons {\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.social-icons a {\r\n  color: white;\r\n  font-size: 24px;\r\n  margin: 0 12px;\r\n  transition: opacity var(--transition-speed);\r\n}\r\n\r\n.social-icons a:hover {\r\n  opacity: 0.8;\r\n}\r\n\r\n.copyright {\r\n  font-size: 14px;\r\n  opacity: 0.6;\r\n}\r\n\r\n/* Photo Options */\r\n.photo-options {\r\n  display: flex;\r\n  gap: 12px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.photo-option {\r\n  flex: 1;\r\n}\r\n\r\n.file-input {\r\n  width: 0.1px;\r\n  height: 0.1px;\r\n  opacity: 0;\r\n  overflow: hidden;\r\n  position: absolute;\r\n  z-index: -1;\r\n}\r\n\r\n.file-input-label {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 12px;\r\n  background-color: var(--primary-color);\r\n  color: white !important;\r\n  border-radius: var(--border-radius);\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  transition: background-color var(--transition-speed);\r\n  text-align: center;\r\n}\r\n\r\n.file-input-label:hover {\r\n  background-color: var(--primary-dark);\r\n}\r\n\r\n.file-input-label i {\r\n  color: white !important;\r\n  margin-right: 8px;\r\n}\r\n\r\n/* Notification Settings Styles */\r\n.notification-settings-section {\r\n  padding: 32px;\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.settings-container {\r\n  background-color: var(--background-white);\r\n  border-radius: var(--border-radius);\r\n  box-shadow: var(--shadow-medium);\r\n  padding: 32px;\r\n}\r\n\r\n.control-group {\r\n  margin-bottom: 32px;\r\n  padding-bottom: 24px;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.control-group:last-child {\r\n  border-bottom: none;\r\n  margin-bottom: 0;\r\n}\r\n\r\n.control-heading {\r\n  font-size: 20px;\r\n  color: var(--primary-color);\r\n  margin-bottom: 8px;\r\n  font-weight: 600;\r\n}\r\n\r\n.control-heading i {\r\n  margin-right: 8px;\r\n}\r\n\r\n.control-description {\r\n  color: var(--text-light);\r\n  margin-bottom: 16px;\r\n  line-height: 1.5;\r\n}\r\n\r\n.control-actions {\r\n  display: flex;\r\n  gap: 12px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.notification-button {\r\n  padding: 10px 20px;\r\n  border-radius: var(--border-radius);\r\n  border: none;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all var(--transition-speed);\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.notification-button i {\r\n  margin-right: 8px;\r\n}\r\n\r\n.notification-button:not(.secondary):not(.danger) {\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n}\r\n\r\n.notification-button:not(.secondary):not(.danger):hover {\r\n  background-color: var(--primary-dark);\r\n}\r\n\r\n.notification-button.secondary {\r\n  background-color: var(--secondary-color);\r\n  color: white;\r\n}\r\n\r\n.notification-button.secondary:hover {\r\n  background-color: var(--secondary-dark);\r\n}\r\n\r\n.notification-button.danger {\r\n  background-color: var(--error-color);\r\n  color: white;\r\n}\r\n\r\n.notification-button.danger:hover {\r\n  background-color: #b71c1c;\r\n}\r\n\r\n.notification-button:disabled {\r\n  background-color: #bdbdbd;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.info-content ul {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 16px 0;\r\n}\r\n\r\n.info-content ul li {\r\n  padding: 8px 0;\r\n  color: var(--text-dark);\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.info-content ul li i {\r\n  color: var(--primary-color);\r\n  margin-right: 12px;\r\n  width: 20px;\r\n  text-align: center;\r\n}\r\n\r\n.browser-support {\r\n  margin-top: 24px;\r\n  padding: 16px;\r\n  background-color: rgba(41, 98, 255, 0.05);\r\n  border-radius: var(--border-radius);\r\n  border-left: 4px solid var(--primary-color);\r\n}\r\n\r\n.browser-support h4 {\r\n  color: var(--primary-color);\r\n  margin-bottom: 8px;\r\n  font-weight: 600;\r\n}\r\n\r\n.browser-support h4 i {\r\n  margin-right: 8px;\r\n}\r\n\r\n.support-status {\r\n  display: flex;\r\n  align-items: center;\r\n  font-weight: 500;\r\n}\r\n\r\n.support-status i {\r\n  margin-right: 8px;\r\n}\r\n\r\n.support-granted {\r\n  color: var(--success-color);\r\n}\r\n\r\n.support-denied {\r\n  color: var(--error-color);\r\n}\r\n\r\n.support-default {\r\n  color: var(--secondary-color);\r\n}\r\n\r\n.support-unsupported {\r\n  color: var(--text-light);\r\n}\r\n\r\n.back-navigation {\r\n  margin-top: 32px;\r\n  padding-top: 24px;\r\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.back-link {\r\n  color: var(--primary-color);\r\n  text-decoration: none;\r\n  font-weight: 500;\r\n  transition: color var(--transition-speed);\r\n  display: inline-flex;\r\n  align-items: center;\r\n}\r\n\r\n.back-link:hover {\r\n  color: var(--primary-dark);\r\n}\r\n\r\n.back-link i {\r\n  margin-right: 8px;\r\n}\r\n\r\n/* View Transitions */\r\n@view-transition {\r\n  navigation: auto;\r\n}\r\n\r\n::view-transition-old(root),\r\n::view-transition-new(root) {\r\n  animation-duration: 400ms;\r\n  animation-timing-function: cubic-bezier(0.25, 1, 0.5, 1);\r\n}\r\n\r\n::view-transition-old(root) {\r\n  animation-name: fade-out;\r\n}\r\n\r\n::view-transition-new(root) {\r\n  animation-name: fade-in;\r\n}\r\n\r\n@keyframes fade-in {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes fade-out {\r\n  from {\r\n    opacity: 1;\r\n  }\r\n  to {\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n/* Reduced motion preferences */\r\n@media (prefers-reduced-motion: reduce) {\r\n  ::view-transition-old(root),\r\n  ::view-transition-new(root) {\r\n    animation-duration: 0.1s;\r\n    animation-timing-function: ease;\r\n  }\r\n}\r\n'],sourceRoot:""}]);const u=c},936:(n,t,r)=>{r.d(t,{A:()=>s});var e=r(354),o=r.n(e),i=r(314),a=r.n(i)()(o());a.push([n.id,"@media screen and (min-width: 768px) {\n  .app-bar {\n    grid-template-columns: 1fr auto;\n    padding: 16px 32px;\n  }\n\n  .app-bar .app-bar__brand h1 {\n    font-size: 28px;\n  }\n\n  .app-bar .app-bar__menu {\n    display: none;\n  }\n\n  .app-bar .app-bar__navigation {\n    position: static;\n    width: auto;\n    box-shadow: none;\n    background-color: transparent;\n    padding: 0;\n  }\n\n  .app-bar .app-bar__navigation ul {\n    display: flex;\n    justify-content: flex-end;\n  }\n\n  .app-bar .app-bar__navigation ul li {\n    display: inline-block;\n    border-bottom: none;\n    padding: 0 16px;\n  }\n\n  .app-bar .app-bar__navigation ul li a {\n    font-size: 16px;\n    padding: 8px 0;\n  }\n\n  .hero {\n    padding: 120px 20px;\n  }\n\n  .hero h1 {\n    font-size: 56px;\n  }\n\n  .hero p {\n    font-size: 20px;\n  }\n\n  .stories {\n    grid-template-columns: repeat(3, 1fr);\n  }\n\n  .camera-controls {\n    flex-direction: row;\n  }\n}\n\n@media screen and (min-width: 1024px) {\n  .stories {\n    grid-template-columns: repeat(4, 1fr);\n  }\n}\n\n@media screen and (max-width: 767px) {\n  main {\n    padding: 16px;\n  }\n\n  .content__heading {\n    font-size: 24px;\n  }\n\n  .hero {\n    padding: 60px 20px;\n  }\n\n  .hero h1 {\n    font-size: 36px;\n  }\n\n  .hero p {\n    font-size: 16px;\n  }\n\n  .story-detail__title {\n    font-size: 24px;\n  }\n\n  .form-container,\n  .auth-container {\n    padding: 20px;\n  }\n\n  .camera-controls {\n    flex-direction: column;\n  }\n\n  .camera-button {\n    width: 100%;\n    margin-bottom: 8px;\n  }\n\n  .notification {\n    max-width: calc(100% - 40px);\n    left: 20px;\n    right: 20px;\n  }\n\n  .user-menu {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 8px;\n  }\n\n  .user-name {\n    margin-bottom: 4px;\n  }\n\n  .logout-button {\n    width: 100%;\n  }\n}\n\n@media screen and (max-width: 480px) {\n  .hero h1 {\n    font-size: 28px;\n  }\n\n  .hero p {\n    font-size: 14px;\n  }\n\n  .hero-button {\n    padding: 10px 20px;\n    font-size: 14px;\n  }\n\n  .stories {\n    grid-template-columns: 1fr;\n  }\n\n  .auth-container {\n    padding: 16px;\n  }\n\n  .auth-icon {\n    font-size: 36px;\n  }\n\n  .auth-header h2 {\n    font-size: 20px;\n  }\n}\n","",{version:3,sources:["webpack://./src/styles/responsive.css"],names:[],mappings:"AAAA;EACE;IACE,+BAA+B;IAC/B,kBAAkB;EACpB;;EAEA;IACE,eAAe;EACjB;;EAEA;IACE,aAAa;EACf;;EAEA;IACE,gBAAgB;IAChB,WAAW;IACX,gBAAgB;IAChB,6BAA6B;IAC7B,UAAU;EACZ;;EAEA;IACE,aAAa;IACb,yBAAyB;EAC3B;;EAEA;IACE,qBAAqB;IACrB,mBAAmB;IACnB,eAAe;EACjB;;EAEA;IACE,eAAe;IACf,cAAc;EAChB;;EAEA;IACE,mBAAmB;EACrB;;EAEA;IACE,eAAe;EACjB;;EAEA;IACE,eAAe;EACjB;;EAEA;IACE,qCAAqC;EACvC;;EAEA;IACE,mBAAmB;EACrB;AACF;;AAEA;EACE;IACE,qCAAqC;EACvC;AACF;;AAEA;EACE;IACE,aAAa;EACf;;EAEA;IACE,eAAe;EACjB;;EAEA;IACE,kBAAkB;EACpB;;EAEA;IACE,eAAe;EACjB;;EAEA;IACE,eAAe;EACjB;;EAEA;IACE,eAAe;EACjB;;EAEA;;IAEE,aAAa;EACf;;EAEA;IACE,sBAAsB;EACxB;;EAEA;IACE,WAAW;IACX,kBAAkB;EACpB;;EAEA;IACE,4BAA4B;IAC5B,UAAU;IACV,WAAW;EACb;;EAEA;IACE,sBAAsB;IACtB,uBAAuB;IACvB,QAAQ;EACV;;EAEA;IACE,kBAAkB;EACpB;;EAEA;IACE,WAAW;EACb;AACF;;AAEA;EACE;IACE,eAAe;EACjB;;EAEA;IACE,eAAe;EACjB;;EAEA;IACE,kBAAkB;IAClB,eAAe;EACjB;;EAEA;IACE,0BAA0B;EAC5B;;EAEA;IACE,aAAa;EACf;;EAEA;IACE,eAAe;EACjB;;EAEA;IACE,eAAe;EACjB;AACF",sourcesContent:["@media screen and (min-width: 768px) {\n  .app-bar {\n    grid-template-columns: 1fr auto;\n    padding: 16px 32px;\n  }\n\n  .app-bar .app-bar__brand h1 {\n    font-size: 28px;\n  }\n\n  .app-bar .app-bar__menu {\n    display: none;\n  }\n\n  .app-bar .app-bar__navigation {\n    position: static;\n    width: auto;\n    box-shadow: none;\n    background-color: transparent;\n    padding: 0;\n  }\n\n  .app-bar .app-bar__navigation ul {\n    display: flex;\n    justify-content: flex-end;\n  }\n\n  .app-bar .app-bar__navigation ul li {\n    display: inline-block;\n    border-bottom: none;\n    padding: 0 16px;\n  }\n\n  .app-bar .app-bar__navigation ul li a {\n    font-size: 16px;\n    padding: 8px 0;\n  }\n\n  .hero {\n    padding: 120px 20px;\n  }\n\n  .hero h1 {\n    font-size: 56px;\n  }\n\n  .hero p {\n    font-size: 20px;\n  }\n\n  .stories {\n    grid-template-columns: repeat(3, 1fr);\n  }\n\n  .camera-controls {\n    flex-direction: row;\n  }\n}\n\n@media screen and (min-width: 1024px) {\n  .stories {\n    grid-template-columns: repeat(4, 1fr);\n  }\n}\n\n@media screen and (max-width: 767px) {\n  main {\n    padding: 16px;\n  }\n\n  .content__heading {\n    font-size: 24px;\n  }\n\n  .hero {\n    padding: 60px 20px;\n  }\n\n  .hero h1 {\n    font-size: 36px;\n  }\n\n  .hero p {\n    font-size: 16px;\n  }\n\n  .story-detail__title {\n    font-size: 24px;\n  }\n\n  .form-container,\n  .auth-container {\n    padding: 20px;\n  }\n\n  .camera-controls {\n    flex-direction: column;\n  }\n\n  .camera-button {\n    width: 100%;\n    margin-bottom: 8px;\n  }\n\n  .notification {\n    max-width: calc(100% - 40px);\n    left: 20px;\n    right: 20px;\n  }\n\n  .user-menu {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 8px;\n  }\n\n  .user-name {\n    margin-bottom: 4px;\n  }\n\n  .logout-button {\n    width: 100%;\n  }\n}\n\n@media screen and (max-width: 480px) {\n  .hero h1 {\n    font-size: 28px;\n  }\n\n  .hero p {\n    font-size: 14px;\n  }\n\n  .hero-button {\n    padding: 10px 20px;\n    font-size: 14px;\n  }\n\n  .stories {\n    grid-template-columns: 1fr;\n  }\n\n  .auth-container {\n    padding: 16px;\n  }\n\n  .auth-icon {\n    font-size: 36px;\n  }\n\n  .auth-header h2 {\n    font-size: 20px;\n  }\n}\n"],sourceRoot:""}]);const s=a}},r={};function e(n){var o=r[n];if(void 0!==o)return o.exports;var i=r[n]={id:n,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.exports}e.m=t,n=[],e.O=(t,r,o,i)=>{if(!r){var a=1/0;for(l=0;l<n.length;l++){for(var[r,o,i]=n[l],s=!0,c=0;c<r.length;c++)(!1&i||a>=i)&&Object.keys(e.O).every((n=>e.O[n](r[c])))?r.splice(c--,1):(s=!1,i<a&&(a=i));if(s){n.splice(l--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=n.length;l>0&&n[l-1][2]>i;l--)n[l]=n[l-1];n[l]=[r,o,i]},e.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},e.d=(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),e.p="/",(()=>{e.b=document.baseURI||self.location.href;var n={524:0};e.O.j=t=>0===n[t];var t=(t,r)=>{var o,i,[a,s,c]=r,u=0;if(a.some((t=>0!==n[t]))){for(o in s)e.o(s,o)&&(e.m[o]=s[o]);if(c)var l=c(e)}for(t&&t(r);u<a.length;u++)i=a[u],e.o(n,i)&&n[i]&&n[i][0](),n[i]=0;return e.O(l)},r=self.webpackChunkstoryshareapp=self.webpackChunkstoryshareapp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),e.nc=void 0;var o=e.O(void 0,[96],(()=>e(130)));o=e.O(o)})();
//# sourceMappingURL=app.bundle.js.map